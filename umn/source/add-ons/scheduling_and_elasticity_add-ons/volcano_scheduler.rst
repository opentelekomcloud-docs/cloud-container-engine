:original_name: cce_10_0193.html

.. _cce_10_0193:

Volcano Scheduler
=================

Introduction
------------

`Volcano <https://volcano.sh/en/docs/>`__ is a batch processing platform based on Kubernetes. It provides a series of features required by machine learning, deep learning, bioinformatics, genomics, and other big data applications, as a powerful supplement to Kubernetes capabilities.

Volcano provides general computing capabilities such as high-performance job scheduling, heterogeneous chip management, and job running management. It accesses the computing frameworks for various industries such as AI, big data, gene, and rendering and schedules up to 1000 pods per second for end users, greatly improving scheduling efficiency and resource utilization.

Volcano provides job scheduling, job management, and queue management for computing applications. Its main features are as follows:

-  Diverse computing frameworks, such as TensorFlow, MPI, and Spark, can run on Kubernetes in containers. Common APIs for batch computing jobs through CRD, various plugins, and advanced job lifecycle management are provided.
-  Advanced scheduling capabilities are provided for batch computing and high-performance computing scenarios, including group scheduling, preemptive priority scheduling, packing, resource reservation, and task topology.
-  Queues can be effectively managed for scheduling jobs. Complex job scheduling capabilities such as queue priority and multi-level queues are supported.

Volcano has been open-sourced in GitHub at https://github.com/volcano-sh/volcano.

Install and configure the Volcano add-on in CCE clusters. For details, see :ref:`Volcano Scheduling <cce_10_0423>`.

.. note::

   When using Volcano as a scheduler, use it to schedule all workloads in the cluster. This prevents resource scheduling conflicts caused by simultaneous working of multiple schedulers.

Notes and Constraints
---------------------

If the Volcano Scheduler add-on is upgraded from 1.4.7 or earlier to a version later than 1.4.7, the **webhooks.admissionReviewVersions** field information in the new version may be incompatible with that in the old version. As a result, VolcanoJob (vcjob) resources cannot be created.

Installing the Add-on
---------------------

#. Log in to the CCE console and click the cluster name to access the cluster console. In the navigation pane, choose **Add-ons**, locate **Volcano Scheduler** on the right, and click **Install**.

#. On the **Install Add-on** page, configure the specifications as needed.

   -  If you selected **Preset**, the system will configure the number of pods and resource quotas for the add-on based on the preset specifications. You can see the configurations on the console.

   -  If you selected **Custom**, you can adjust the number of pods and resource quotas as needed. High availability is not possible with a single pod. If an error occurs on the node where the add-on instance runs, the add-on will fail.

      The resource quotas of the volcano-admission component are related to the cluster scale. For details, see :ref:`Table 1 <cce_10_0193__table16382122344317>`. The resource quotas of volcano-controller and volcano-scheduler are related to the number of cluster nodes and pods. The recommended values are as follows:

      -  If the number of nodes is less than 100, retain the default configuration. The requested vCPUs are 500m, and the limit is 2000m. The requested memory is 500 MiB, and the limit is 2000 MiB.
      -  If the number of nodes is greater than 100, increase the requested vCPUs by 500m and the requested memory by 1000 MiB each time 100 nodes (10,000 pods) are added. Increase the vCPU limit by 1500m and the memory limit by 1000 MiB.

         .. note::

            Recommended formula for calculating the requested value:

            -  Requested vCPUs: Calculate the number of target nodes multiplied by the number of target pods, perform interpolation search based on the number of nodes in the cluster multiplied by the number of target pods in :ref:`Table 2 <cce_10_0193__table443465675016>`, and round up the request value and limit value that are closest to the specifications.

               For example, for 2000 nodes and 20,000 pods, Number of target nodes x Number of target pods = 40 million, which is close to the specification of 700/70,000 (Number of cluster nodes x Number of pods = 49 million). According to the following table, set the requested vCPUs to 4000m and the limit value to 5500m.

            -  Requested memory: It is recommended that 2.4 GiB memory be allocated to every 1000 nodes and 1 GiB memory be allocated to every 10,000 pods. The requested memory is the sum of these two values. (The obtained value may be different from the recommended value in :ref:`Table 2 <cce_10_0193__table443465675016>`. You can use either of them.)

               Requested memory = Number of target nodes/1000 x 2.4 GiB + Number of target pods/10,000 x 1 GiB

               For example, for 2000 nodes and 20,000 pods, the requested memory is 6.8 GiB (2000/1000 x 2.4 GiB + 20,000/10,000 x 1 GiB).

      .. _cce_10_0193__table16382122344317:

      .. table:: **Table 1** Recommended requested resources and resource limits for volcano-admission

         +--------------------+----------------+----------------+------------------------+--------------------+
         | Cluster Scale      | CPU Request(m) | vCPU Limit (m) | Requested Memory (MiB) | Memory Limit (MiB) |
         +====================+================+================+========================+====================+
         | 50 nodes           | 200            | 500            | 500                    | 500                |
         +--------------------+----------------+----------------+------------------------+--------------------+
         | 200 nodes          | 500            | 1000           | 1000                   | 2000               |
         +--------------------+----------------+----------------+------------------------+--------------------+
         | 1000 or more nodes | 1500           | 2500           | 3000                   | 4000               |
         +--------------------+----------------+----------------+------------------------+--------------------+

      .. _cce_10_0193__table443465675016:

      .. table:: **Table 2** Recommended requested resources and resource limits for volcano-controller and volcano-scheduler

         +-------------------------+-----------------+---------------+----------------------+--------------------+
         | Nodes/Pods in a Cluster | CPU Request (m) | CPU Limit (m) | Memory Request (MiB) | Memory Limit (MiB) |
         +=========================+=================+===============+======================+====================+
         | 50/5000                 | 500             | 2000          | 500                  | 2000               |
         +-------------------------+-----------------+---------------+----------------------+--------------------+
         | 100/10000               | 1000            | 2500          | 1500                 | 2500               |
         +-------------------------+-----------------+---------------+----------------------+--------------------+
         | 200/20000               | 1500            | 3000          | 2500                 | 3500               |
         +-------------------------+-----------------+---------------+----------------------+--------------------+
         | 300/30000               | 2000            | 3500          | 3500                 | 4500               |
         +-------------------------+-----------------+---------------+----------------------+--------------------+
         | 400/40000               | 2500            | 4000          | 4500                 | 5500               |
         +-------------------------+-----------------+---------------+----------------------+--------------------+
         | 500/50000               | 3000            | 4500          | 5500                 | 6500               |
         +-------------------------+-----------------+---------------+----------------------+--------------------+
         | 600/60000               | 3500            | 5000          | 6500                 | 7500               |
         +-------------------------+-----------------+---------------+----------------------+--------------------+
         | 700/70000               | 4000            | 5500          | 7500                 | 8500               |
         +-------------------------+-----------------+---------------+----------------------+--------------------+

#. Configure the extended functions supported by the add-on.

   -  **Descheduling**: After this function is enabled, the volcano-descheduler component is automatically deployed. The scheduler will evict and reschedule pods that do not meet your policy configuration requirements. This helps to balance cluster load and reduce resource fragmentation. For details, see :ref:`Descheduling <cce_10_0766>`.
   -  **NUMA Topology Scheduling**: After this function is enabled, the resource-exporter component is automatically deployed. The scheduler will schedule pods in NUMA affinity mode, which enhances the performance of high-performance training jobs. For details, see :ref:`NUMA Affinity Scheduling <cce_10_0425>`.

#. Configure deployment policies for the add-on pods.

   .. note::

      -  Scheduling policies do not take effect on add-on pods of the DaemonSet type.
      -  When configuring multi-AZ deployment or node affinity, ensure that there are nodes meeting the scheduling policy and that resources are sufficient in the cluster. Otherwise, the add-on cannot run.

   .. table:: **Table 3** Configurations for add-on scheduling

      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter                         | Description                                                                                                                                                                                                                                                                                     |
      +===================================+=================================================================================================================================================================================================================================================================================================+
      | Multi-AZ Deployment               | -  **Preferred**: Deployment pods of the add-on will be preferentially scheduled to nodes in different AZs. If all the nodes in the cluster are deployed in the same AZ, the pods will be scheduled to different nodes in that AZ.                                                              |
      |                                   | -  **Forcible**: Deployment pods of the add-on are forcibly scheduled to nodes in different AZs. There can be at most one pod in each AZ. If nodes in a cluster are not in different AZs, some add-on pods cannot run properly. If a node is faulty, add-on pods on it may fail to be migrated. |
      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Node Affinity                     | -  **Not configured**: Node affinity is disabled for the add-on.                                                                                                                                                                                                                                |
      |                                   |                                                                                                                                                                                                                                                                                                 |
      |                                   | -  **Specify node**: Specify the nodes where the add-on is deployed. If you do not specify the nodes, the add-on will be randomly scheduled based on the default cluster scheduling policy.                                                                                                     |
      |                                   |                                                                                                                                                                                                                                                                                                 |
      |                                   | -  **Specify node pool**: Specify the node pool where the add-on is deployed. If you do not specify the node pools, the add-on will be randomly scheduled based on the default cluster scheduling policy.                                                                                       |
      |                                   |                                                                                                                                                                                                                                                                                                 |
      |                                   | -  **Customize affinity**: Enter the labels of the nodes where the add-on is to be deployed for more flexible scheduling policies. If you do not specify node labels, the add-on will be randomly scheduled based on the default cluster scheduling policy.                                     |
      |                                   |                                                                                                                                                                                                                                                                                                 |
      |                                   |    If multiple custom affinity policies are configured, ensure that there are nodes that meet all the affinity policies in the cluster. Otherwise, the add-on cannot run.                                                                                                                       |
      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Toleration                        | Using both taints and tolerations allows (not forcibly) the add-on Deployment to be scheduled to a node with the matching taints, and controls the Deployment eviction policies after the node where the Deployment is located is tainted.                                                      |
      |                                   |                                                                                                                                                                                                                                                                                                 |
      |                                   | The add-on adds the default tolerance policy for the **node.kubernetes.io/not-ready** and **node.kubernetes.io/unreachable** taints, respectively. The tolerance time window is 60s.                                                                                                            |
      |                                   |                                                                                                                                                                                                                                                                                                 |
      |                                   | For details, see :ref:`Configuring Tolerance Policies <cce_10_0728>`.                                                                                                                                                                                                                           |
      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

#. Click **Install**.

   After the add-on is installed, you can choose **Settings** in the navigation pane, switch to the **Scheduling** tab, select **Volcano scheduler**, and find the corresponding expert mode. You can customize advanced scheduling policies based on actual service scenarios. The following is an example:

   .. code-block::

      admission_kube_api_qps: 200
      admissions: /jobs/mutate,/jobs/validate,/podgroups/mutate,/pods/validate,/pods/mutate,/queues/mutate,/queues/validate,/eas/pods/mutate,/eas/pods/validate,/npu/jobs/validate,/resource/validate,/resource/mutate,/workloadbalancer/balancer/validate,/workloadbalancer/balancerpolicytemplate/validate
      annotations: {}
      colocation_enable: 'false'
      controller_kube_api_qps: 200
      default_scheduler_conf:
        actions: allocate, backfill, preempt
        metrics:
          interval: 30s
          type: ''
        tiers:
          - plugins:
              - name: priority
              - enableJobStarving: false
                enablePreemptable: false
                name: gang
              - name: conformance
          - plugins:
              - enablePreemptable: false
                name: drf
              - name: predicates
              - name: nodeorder
          - plugins:
              - name: cce-gpu-topology-predicate
              - name: cce-gpu-topology-priority
              - name: xgpu
          - plugins:
              - name: nodelocalvolume
              - name: nodeemptydirvolume
              - name: nodeCSIscheduling
              - name: networkresource
      deschedulerPolicy:
        profiles:
          - name: ProfileName
            pluginConfig:
              - args:
                  nodeFit: true
                name: DefaultEvictor
              - args:
                  evictableNamespaces:
                    exclude:
                      - kube-system
                  thresholds:
                    cpu: 20
                    memory: 20
                name: HighNodeUtilization
              - args:
                  evictableNamespaces:
                    exclude:
                      - kube-system
                  metrics:
                    type: prometheus_adaptor
                  nodeFit: true
                  targetThresholds:
                    cpu: 80
                    memory: 85
                  thresholds:
                    cpu: 30
                    memory: 30
                name: LoadAware
            plugins:
              balance:
                enabled: null
      descheduler_enable: 'false'
      deschedulingInterval: 10m
      enable_workload_balancer: false
      oversubscription_method: nodeResource
      oversubscription_profile_period: 300
      oversubscription_ratio: 60
      recommendation_enable: ''
      scheduler_kube_api_qps: 200
      update_pod_status_qps: 50
      workload_balancer_score_annotation_key: ''
      workload_balancer_third_party_types: ''

   .. table:: **Table 4** Advanced Volcano configuration parameters

      +-----------------------------------------------------+------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Function                                            | Parameter                          | Function                                                                                                                                                                                          | Description                                                                                                                                                                                                                                                                                                                                                                        |
      +=====================================================+====================================+===================================================================================================================================================================================================+====================================================================================================================================================================================================================================================================================================================================================================================+
      | Basic scheduling functions                          | admission_kube_api_qps             | QPS of requests sent by volcano-admission to Kubernetes API server                                                                                                                                | Value range: greater than 0; parameter type: float                                                                                                                                                                                                                                                                                                                                 |
      +-----------------------------------------------------+------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                                                     | controller_kube_api_qps            | QPS of requests sent by volcano-controller to Kubernetes API server                                                                                                                               | Value range: greater than 0; parameter type: float                                                                                                                                                                                                                                                                                                                                 |
      +-----------------------------------------------------+------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                                                     | scheduler_kube_api_qps             | QPS of requests sent by volcano-scheduler to Kubernetes API server                                                                                                                                | Value range: greater than 0; parameter type: float                                                                                                                                                                                                                                                                                                                                 |
      +-----------------------------------------------------+------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                                                     | update_pod_status_qps              | QPS of the requests for updating the pod status by volcano-scheduler                                                                                                                              | Value range: greater than 0; parameter type: int                                                                                                                                                                                                                                                                                                                                   |
      +-----------------------------------------------------+------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                                                     | default_scheduler_conf             | Used to schedule pods. It consists of a series of actions and plugins and features high scalability. You can specify and implement actions and plugins based on your requirements.                | It consists of:                                                                                                                                                                                                                                                                                                                                                                    |
      |                                                     |                                    |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                    |
      |                                                     |                                    |                                                                                                                                                                                                   | -  **actions**: defines the types and sequence of actions to be executed by the scheduler.                                                                                                                                                                                                                                                                                         |
      |                                                     |                                    |                                                                                                                                                                                                   | -  **tiers**: configures the plugin list.                                                                                                                                                                                                                                                                                                                                          |
      +-----------------------------------------------------+------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                                                     | default_scheduler_conf.actions     | Actions to be executed in each scheduling phase. The configured action sequence is the scheduler execution sequence. For details, see `Actions <https://volcano.sh/en/docs/actions/>`__.          | **The following options are supported:**                                                                                                                                                                                                                                                                                                                                           |
      |                                                     |                                    |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                    |
      |                                                     |                                    | The scheduler traverses all jobs to be scheduled and performs actions such as enqueue, allocate, preempt, and backfill in the configured sequence to find the most appropriate node for each job. | -  **enqueue**: uses a series of filtering algorithms to filter out tasks to be scheduled and sends them to the queue to wait for scheduling. After this action, the task status changes from **pending** to **inqueue**.                                                                                                                                                          |
      |                                                     |                                    |                                                                                                                                                                                                   | -  **allocate**: selects the most suitable node based on a series of pre-selection and selection algorithms.                                                                                                                                                                                                                                                                       |
      |                                                     |                                    |                                                                                                                                                                                                   | -  **preempt**: performs preemption scheduling for tasks with higher priorities in the same queue based on priority rules.                                                                                                                                                                                                                                                         |
      |                                                     |                                    |                                                                                                                                                                                                   | -  **backfill**: schedules tasks in the pending state as much as possible to maximize node resource utilization.                                                                                                                                                                                                                                                                   |
      |                                                     |                                    |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                    |
      |                                                     |                                    |                                                                                                                                                                                                   | **Example**:                                                                                                                                                                                                                                                                                                                                                                       |
      |                                                     |                                    |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                    |
      |                                                     |                                    |                                                                                                                                                                                                   | .. code-block::                                                                                                                                                                                                                                                                                                                                                                    |
      |                                                     |                                    |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                    |
      |                                                     |                                    |                                                                                                                                                                                                   |    actions: 'allocate, backfill, preempt'                                                                                                                                                                                                                                                                                                                                          |
      |                                                     |                                    |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                    |
      |                                                     |                                    |                                                                                                                                                                                                   | .. note::                                                                                                                                                                                                                                                                                                                                                                          |
      |                                                     |                                    |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                    |
      |                                                     |                                    |                                                                                                                                                                                                   |    When configuring **actions**, use either **preempt** or **enqueue**.                                                                                                                                                                                                                                                                                                            |
      +-----------------------------------------------------+------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                                                     | default_scheduler_conf.tier.plugin | Implementation details of algorithms in actions based on different scenarios. For details, see `Plugins <https://volcano.sh/en/docs/plugins/>`__.                                                 | For details, see :ref:`Table 5 <cce_10_0193__table1227612123306>`.                                                                                                                                                                                                                                                                                                                 |
      +-----------------------------------------------------+------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | :ref:`Descheduling <cce_10_0766>`                   | descheduler_enable                 | Used to enable descheduling.                                                                                                                                                                      | This function is disabled by default. Options:                                                                                                                                                                                                                                                                                                                                     |
      |                                                     |                                    |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                    |
      |                                                     |                                    |                                                                                                                                                                                                   | -  **true**: The function is enabled.                                                                                                                                                                                                                                                                                                                                              |
      |                                                     |                                    |                                                                                                                                                                                                   | -  **false** or empty: The function is disabled.                                                                                                                                                                                                                                                                                                                                   |
      +-----------------------------------------------------+------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                                                     | deschedulerPolicy                  | Descheduling policy                                                                                                                                                                               | For details about the parameters, see :ref:`Table 2 <cce_10_0766__table18576915101217>`.                                                                                                                                                                                                                                                                                           |
      +-----------------------------------------------------+------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                                                     | deschedulingInterval               | Descheduling period                                                                                                                                                                               | Value range: > 0s; parameter type: time                                                                                                                                                                                                                                                                                                                                            |
      +-----------------------------------------------------+------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | :ref:`Cloud native hybrid deployment <cce_10_0709>` | colocation_enable                  | Used to enable cloud native hybrid deployment.                                                                                                                                                    | This function is disabled by default. Options:                                                                                                                                                                                                                                                                                                                                     |
      |                                                     |                                    |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                    |
      |                                                     |                                    |                                                                                                                                                                                                   | -  **true**: The function is enabled.                                                                                                                                                                                                                                                                                                                                              |
      |                                                     |                                    |                                                                                                                                                                                                   | -  **false** or empty: The function is disabled.                                                                                                                                                                                                                                                                                                                                   |
      +-----------------------------------------------------+------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                                                     | oversubscription_method            | Method for calculating the oversubscription                                                                                                                                                       | **nodeResource** and **podProfile** are supported. The default value is **nodeResource**.                                                                                                                                                                                                                                                                                          |
      |                                                     |                                    |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                    |
      |                                                     |                                    |                                                                                                                                                                                                   | -  **nodeResource**: calculates the oversubscription based on the node resource usage.                                                                                                                                                                                                                                                                                             |
      |                                                     |                                    |                                                                                                                                                                                                   | -  **podProfile**: calculates the oversubscription based on pod profiling.                                                                                                                                                                                                                                                                                                         |
      +-----------------------------------------------------+------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                                                     | oversubscription_ratio             | Percentage of idle resource oversubscription of a node                                                                                                                                            | Value range: 1 to 100; parameter type: int                                                                                                                                                                                                                                                                                                                                         |
      |                                                     |                                    |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                    |
      |                                                     |                                    |                                                                                                                                                                                                   | For example, **60** indicates that the maximum oversubscription resources on a node is calculated based on **60% x Idle resources on the node**.                                                                                                                                                                                                                                   |
      +-----------------------------------------------------+------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                                                     | oversubscription_profile_period    | Period of pod profiling                                                                                                                                                                           | Value range: 60 to 2592000, in seconds, that is, from 1 minute to 1 month. If a pod's metrics are not collected for the entire period, the node's resources will be evaluated according to the resources requested by the pod.                                                                                                                                                     |
      |                                                     |                                    |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                    |
      |                                                     |                                    |                                                                                                                                                                                                   | When the oversubscription algorithm based on pod profiling is enabled for the first time, the amount of collected data may not be sufficient to cover the entire period. In this case, the oversubscription on the node is temporarily 0 due to lack of initialization data. After the data of the first period is collected, the oversubscription is updated to the actual value. |
      +-----------------------------------------------------+------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

   .. _cce_10_0193__table1227612123306:

   .. table:: **Table 5** Supported plugins

      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Plugins                    | Function                                                                                                                                                                                                                                                                                     | Description                                                                                                                                                                                                                                                                                                                             | Demonstration                                                                                                                                                                                                                                                                              |
      +============================+==============================================================================================================================================================================================================================================================================================+=========================================================================================================================================================================================================================================================================================================================================+============================================================================================================================================================================================================================================================================================+
      | binpack                    | Schedule pods to nodes with high resource usage (not allocating pods to light-loaded nodes) to reduce resource fragments.                                                                                                                                                                    | **arguments**:                                                                                                                                                                                                                                                                                                                          | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              | -  **binpack.weight**: weight of the binpack plugin.                                                                                                                                                                                                                                                                                    |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              | -  **binpack.cpu**: ratio of CPUs to all resources. The parameter value defaults to **1**.                                                                                                                                                                                                                                              |      - name: binpack                                                                                                                                                                                                                                                                       |
      |                            |                                                                                                                                                                                                                                                                                              | -  **binpack.memory**: ratio of memory resources to all resources. The parameter value defaults to **1**.                                                                                                                                                                                                                               |        arguments:                                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              | -  **binpack.resources**: other custom resource types requested by the pod, for example, **nvidia.com/gpu**. Multiple types can be configured and be separated by commas (,).                                                                                                                                                           |          binpack.weight: 10                                                                                                                                                                                                                                                                |
      |                            |                                                                                                                                                                                                                                                                                              | -  **binpack.resources.**\ *<your_resource>*: weight of your custom resource in all resources. Multiple types of resources can be added. *<your_resource>* indicates the resource type defined in **binpack.resources**, for example, **binpack.resources.nvidia.com/gpu**.                                                             |          binpack.cpu: 1                                                                                                                                                                                                                                                                    |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |          binpack.memory: 1                                                                                                                                                                                                                                                                 |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |          binpack.resources: nvidia.com/gpu, example.com/foo                                                                                                                                                                                                                                |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |          binpack.resources.nvidia.com/gpu: 2                                                                                                                                                                                                                                               |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |          binpack.resources.example.com/foo: 3                                                                                                                                                                                                                                              |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | conformance                | Prevent key pods, such as the pods in the **kube-system** namespace from being preempted.                                                                                                                                                                                                    | None                                                                                                                                                                                                                                                                                                                                    | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'priority'                                                                                                                                                                                                                                                                    |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'gang'                                                                                                                                                                                                                                                                        |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |        enablePreemptable: false                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'conformance'                                                                                                                                                                                                                                                                 |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | lifecycle                  | By collecting statistics on service scaling rules, pods with similar lifecycles are preferentially scheduled to the same node. With the horizontal scaling capability of the Autoscaler, resources can be quickly scaled in and released, reducing costs and improving resource utilization. | **arguments**:                                                                                                                                                                                                                                                                                                                          | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            | 1. Collects statistics on the lifecycle of pods in the service load and schedules pods with similar lifecycles to the same node.                                                                                                                                                             | -  **lifecycle.WindowSize**: The value is an integer greater than or equal to 1 and defaults to **10**.                                                                                                                                                                                                                                 |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: priority                                                                                                                                                                                                                                                                      |
      |                            | 2. For a cluster configured with an automatic scaling policy, adjust the scale-in annotation of the node to preferentially scale in the node with low usage.                                                                                                                                 |    Record the number of times that the number of replicas changes. If the load changes regularly and periodically, decrease the value. If the load changes irregularly and the number of replicas changes frequently, increase the value. If the value is too large, the learning period is prolonged and too many events are recorded. |      - name: gang                                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |        enablePreemptable: false                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              | -  **lifecycle.MaxGrade**: The value is an integer greater than or equal to 3 and defaults to **3**.                                                                                                                                                                                                                                    |      - name: conformance                                                                                                                                                                                                                                                                   |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: lifecycle                                                                                                                                                                                                                                                                     |
      |                            |                                                                                                                                                                                                                                                                                              |    It indicates levels of replicas. For example, if the value is set to **3**, the replicas are classified into three levels. If the load changes regularly and periodically, decrease the value. If the load changes irregularly, increase the value. Setting an excessively small value may result in inaccurate lifecycle forecasts. |        arguments:                                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |          lifecycle.MaxGrade: 3                                                                                                                                                                                                                                                             |
      |                            |                                                                                                                                                                                                                                                                                              | -  **lifecycle.MaxScore**: float64 floating point number. The value must be greater than or equal to 50.0. The default value is **200.0**.                                                                                                                                                                                              |          lifecycle.MaxScore: 200.0                                                                                                                                                                                                                                                         |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |          lifecycle.SaturatedTresh: 0.8                                                                                                                                                                                                                                                     |
      |                            |                                                                                                                                                                                                                                                                                              |    Maximum score (equivalent to the weight) of the lifecycle plugin.                                                                                                                                                                                                                                                                    |          lifecycle.WindowSize: 10                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              | -  **lifecycle.SaturatedTresh**: float64 floating point number. If the value is less than 0.5, use **0.5**. If the value is greater than 1, use **1**. The default value is **0.8**.                                                                                                                                                    | .. note::                                                                                                                                                                                                                                                                                  |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |    Threshold for determining whether the node usage is too high. If the node usage exceeds the threshold, the scheduler preferentially schedules jobs to other nodes.                                                                                                                                                                   |    -  For nodes that do not want to be scaled in, manually mark them as long-period nodes and add the annotation **volcano.sh/long-lifecycle-node: true** to them. For an unmarked node, the lifecycle plugin automatically marks the node based on the lifecycle of the load on the node. |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |    -  The default value of **MaxScore** is **200.0**, which is twice the weight of other plugins. When the lifecycle plugin does not have obvious effect or conflicts with other plugins, disable other plugins or increase the value of **MaxScore**.                                     |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |    -  After the scheduler is restarted, the lifecycle plugin needs to re-record the load change. The optimal scheduling effect can be achieved only after several periods of statistics are collected.                                                                                     |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Gang                       | Consider a group of pods as a whole for resource allocation. This plugin checks whether the number of scheduled pods in a job meets the minimum requirements for running the job. If yes, all pods in the job will be scheduled. If no, the pods will not be scheduled.                      | -  **enablePreemptable**:                                                                                                                                                                                                                                                                                                               | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            | .. note::                                                                                                                                                                                                                                                                                    |    -  **true**: Preemption enabled                                                                                                                                                                                                                                                                                                      |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              |    -  **false**: Preemption not enabled                                                                                                                                                                                                                                                                                                 |      - name: priority                                                                                                                                                                                                                                                                      |
      |                            |    If a gang scheduling policy is used, if the remaining resources in the cluster are greater than or equal to half of the minimum number of resources for running a job but less than the minimum of resources for running the job, Autoscaler scale-outs will not be triggered.            |                                                                                                                                                                                                                                                                                                                                         |      - name: gang                                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              | -  **enableJobStarving**:                                                                                                                                                                                                                                                                                                               |        enablePreemptable: false                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |        enableJobStarving: false                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |    -  **true**: Resources are preempted based on the **minAvailable** setting of jobs.                                                                                                                                                                                                                                                  |      - name: conformance                                                                                                                                                                                                                                                                   |
      |                            |                                                                                                                                                                                                                                                                                              |    -  **false**: Resources are preempted based on job replicas.                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |    .. note::                                                                                                                                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |       -  The default value of **minAvailable** for Kubernetes-native workloads (such as Deployments) is **1**. It is a good practice to set **enableJobStarving** to **false**.                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |       -  In AI and big data scenarios, you can specify the **minAvailable** value when creating a vcjob. It is a good practice to set **enableJobStarving** to **true**.                                                                                                                                                                |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |       -  In Volcano versions earlier than v1.11.5, **enableJobStarving** is set to **true** by default. In Volcano versions later than v1.11.5, **enableJobStarving** is set to **false** by default.                                                                                                                                   |                                                                                                                                                                                                                                                                                            |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | priority                   | Schedule based on custom load priorities.                                                                                                                                                                                                                                                    | None                                                                                                                                                                                                                                                                                                                                    | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: priority                                                                                                                                                                                                                                                                      |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: gang                                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |        enablePreemptable: false                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: conformance                                                                                                                                                                                                                                                                   |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | overcommit                 | Resources in a cluster are scheduled after being accumulated in a certain multiple to improve the workload enqueuing efficiency. If all workloads are Deployments, remove this plugin or set the raising factor to **2.0**.                                                                  | **arguments**:                                                                                                                                                                                                                                                                                                                          | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            | .. note::                                                                                                                                                                                                                                                                                    | -  **overcommit-factor**: inflation factor, which defaults to **1.2**.                                                                                                                                                                                                                                                                  |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: overcommit                                                                                                                                                                                                                                                                    |
      |                            |    This plugin is supported in Volcano 1.6.5 and later versions.                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                         |        arguments:                                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |          overcommit-factor: 2.0                                                                                                                                                                                                                                                            |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | drf                        | The Dominant Resource Fairness (DRF) scheduling algorithm, which schedules jobs based on their dominant resource share. Jobs with a smaller resource share will be scheduled with a higher priority.                                                                                         | None                                                                                                                                                                                                                                                                                                                                    | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'drf'                                                                                                                                                                                                                                                                         |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'predicates'                                                                                                                                                                                                                                                                  |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodeorder'                                                                                                                                                                                                                                                                   |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | predicates                 | Determine whether a task is bound to a node by using a series of evaluation algorithms, such as node/pod affinity, taint tolerance, node repetition, volume limits, and volume zone matching.                                                                                                | None                                                                                                                                                                                                                                                                                                                                    | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'drf'                                                                                                                                                                                                                                                                         |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'predicates'                                                                                                                                                                                                                                                                  |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodeorder'                                                                                                                                                                                                                                                                   |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | nodeorder                  | A common algorithm for selecting nodes. Nodes are scored in simulated resource allocation to find the most suitable node for the current job.                                                                                                                                                | Scoring parameters:                                                                                                                                                                                                                                                                                                                     | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              | -  **nodeaffinity.weight**: Pods are scheduled based on node affinity. This parameter defaults to **2**.                                                                                                                                                                                                                                |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              | -  **podaffinity.weight**: Pods are scheduled based on pod affinity. This parameter defaults to **2**.                                                                                                                                                                                                                                  |      - name: nodeorder                                                                                                                                                                                                                                                                     |
      |                            |                                                                                                                                                                                                                                                                                              | -  **leastrequested.weight**: Pods are scheduled to the node with the least requested resources. This parameter defaults to **1**.                                                                                                                                                                                                      |        arguments:                                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              | -  **balancedresource.weight**: Pods are scheduled to the node with balanced resource allocation. This parameter defaults to **1**.                                                                                                                                                                                                     |          leastrequested.weight: 1                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              | -  **mostrequested.weight**: Pods are scheduled to the node with the most requested resources. This parameter defaults to **0**.                                                                                                                                                                                                        |          mostrequested.weight: 0                                                                                                                                                                                                                                                           |
      |                            |                                                                                                                                                                                                                                                                                              | -  **tainttoleration.weight**: Pods are scheduled to the node with a high taint tolerance. This parameter defaults to **3**.                                                                                                                                                                                                            |          nodeaffinity.weight: 2                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              | -  **imagelocality.weight**: Pods are scheduled to the node where the required images exist. This parameter defaults to **1**.                                                                                                                                                                                                          |          podaffinity.weight: 2                                                                                                                                                                                                                                                             |
      |                            |                                                                                                                                                                                                                                                                                              | -  **podtopologyspread.weight**: Pods are scheduled based on the pod topology. This parameter defaults to **2**.                                                                                                                                                                                                                        |          balancedresource.weight: 1                                                                                                                                                                                                                                                        |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |          tainttoleration.weight: 3                                                                                                                                                                                                                                                         |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |          imagelocality.weight: 1                                                                                                                                                                                                                                                           |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |          podtopologyspread.weight: 2                                                                                                                                                                                                                                                       |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | cce-gpu-topology-predicate | GPU-topology scheduling preselection algorithm                                                                                                                                                                                                                                               | None                                                                                                                                                                                                                                                                                                                                    | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'cce-gpu-topology-predicate'                                                                                                                                                                                                                                                  |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'cce-gpu-topology-priority'                                                                                                                                                                                                                                                   |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'xgpu'                                                                                                                                                                                                                                                                        |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | cce-gpu-topology-priority  | GPU-topology scheduling priority algorithm                                                                                                                                                                                                                                                   | None                                                                                                                                                                                                                                                                                                                                    | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'cce-gpu-topology-predicate'                                                                                                                                                                                                                                                  |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'cce-gpu-topology-priority'                                                                                                                                                                                                                                                   |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'xgpu'                                                                                                                                                                                                                                                                        |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | cce-gpu                    | GPU resource allocation that supports decimal GPU configurations by working with the CCE AI Suite (NVIDIA GPU) add-on.                                                                                                                                                                       | None                                                                                                                                                                                                                                                                                                                                    | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'cce-gpu-topology-predicate'                                                                                                                                                                                                                                                  |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'cce-gpu-topology-priority'                                                                                                                                                                                                                                                   |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'cce-gpu'                                                                                                                                                                                                                                                                     |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | numa-aware                 | NUMA affinity scheduling. For details, see :ref:`NUMA Affinity Scheduling <cce_10_0425>`.                                                                                                                                                                                                    | **arguments**:                                                                                                                                                                                                                                                                                                                          | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              | -  **weight**: weight of the numa-aware plugin                                                                                                                                                                                                                                                                                          |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodelocalvolume'                                                                                                                                                                                                                                                             |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodeemptydirvolume'                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodeCSIscheduling'                                                                                                                                                                                                                                                           |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'networkresource'                                                                                                                                                                                                                                                             |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |        arguments:                                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |          NetworkType: vpc-router                                                                                                                                                                                                                                                           |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: numa-aware                                                                                                                                                                                                                                                                    |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |        arguments:                                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |          weight: 10                                                                                                                                                                                                                                                                        |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | networkresource            | The ENI requirement node can be preselected and filtered. The parameters are transferred by CCE and do not need to be manually configured.                                                                                                                                                   | **arguments**:                                                                                                                                                                                                                                                                                                                          | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              | -  **NetworkType**: network type (**eni** or **vpc-router**)                                                                                                                                                                                                                                                                            |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodelocalvolume'                                                                                                                                                                                                                                                             |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodeemptydirvolume'                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodeCSIscheduling'                                                                                                                                                                                                                                                           |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'networkresource'                                                                                                                                                                                                                                                             |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |        arguments:                                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |          NetworkType: vpc-router                                                                                                                                                                                                                                                           |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | nodelocalvolume            | Filter out nodes that do not meet local volume requirements.                                                                                                                                                                                                                                 | None                                                                                                                                                                                                                                                                                                                                    | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodelocalvolume'                                                                                                                                                                                                                                                             |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodeemptydirvolume'                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodeCSIscheduling'                                                                                                                                                                                                                                                           |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'networkresource'                                                                                                                                                                                                                                                             |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | nodeemptydirvolume         | Filter out nodes that do not meet the emptyDir requirements.                                                                                                                                                                                                                                 | None                                                                                                                                                                                                                                                                                                                                    | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodelocalvolume'                                                                                                                                                                                                                                                             |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodeemptydirvolume'                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodeCSIscheduling'                                                                                                                                                                                                                                                           |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'networkresource'                                                                                                                                                                                                                                                             |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | nodeCSIscheduling          | Filter out nodes with malfunctional Everest.                                                                                                                                                                                                                                                 | None                                                                                                                                                                                                                                                                                                                                    | .. code-block::                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                            |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |    - plugins:                                                                                                                                                                                                                                                                              |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodelocalvolume'                                                                                                                                                                                                                                                             |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodeemptydirvolume'                                                                                                                                                                                                                                                          |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'nodeCSIscheduling'                                                                                                                                                                                                                                                           |
      |                            |                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                         |      - name: 'networkresource'                                                                                                                                                                                                                                                             |
      +----------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Components
----------

.. table:: **Table 6** Add-on components

   +----------------------------------------+---------------------------------------------------------------------------------------------------------------------------+---------------+
   | Component                              | Description                                                                                                               | Resource Type |
   +========================================+===========================================================================================================================+===============+
   | volcano-scheduler                      | Schedule pods.                                                                                                            | Deployment    |
   +----------------------------------------+---------------------------------------------------------------------------------------------------------------------------+---------------+
   | volcano-controller                     | Synchronize CRDs.                                                                                                         | Deployment    |
   +----------------------------------------+---------------------------------------------------------------------------------------------------------------------------+---------------+
   | volcano-admission                      | Webhook server, which verifies and modifies resources such as pods and jobs                                               | Deployment    |
   +----------------------------------------+---------------------------------------------------------------------------------------------------------------------------+---------------+
   | volcano-agent                          | Cloud native hybrid agent, which is used for node QoS assurance, CPU burst, and dynamic resource oversubscription         | DaemonSet     |
   +----------------------------------------+---------------------------------------------------------------------------------------------------------------------------+---------------+
   | resource-exporter                      | Report the NUMA topology information of nodes.                                                                            | DaemonSet     |
   +----------------------------------------+---------------------------------------------------------------------------------------------------------------------------+---------------+
   | volcano-descheduler                    | Reschedule pods in a cluster. After the rescheduling capability is enabled, pods will be automatically deployed on nodes. | Deployment    |
   +----------------------------------------+---------------------------------------------------------------------------------------------------------------------------+---------------+
   | volcano-recommender                    | Generate recommendations for CPU and memory requests based on the historical CPU and memory usage of a container.         | Deployment    |
   +----------------------------------------+---------------------------------------------------------------------------------------------------------------------------+---------------+
   | volcano-recommender-prometheus-adapter | Collect historical CPU and memory metrics of containers from Prometheus.                                                  | Deployment    |
   +----------------------------------------+---------------------------------------------------------------------------------------------------------------------------+---------------+

Modifying the volcano-scheduler Configurations Using the Console
----------------------------------------------------------------

volcano-scheduler is the component responsible for pod scheduling. It consists of a series of actions and plugins. Actions should be executed in every step. Plugins provide the action algorithm details in different scenarios. volcano-scheduler is highly scalable. You can specify and implement actions and plugins based on your requirements.

After the add-on is installed, you can choose **Settings** in the navigation pane, switch to the **Scheduling** tab, and configure the basic scheduling capabilities. You can also use the expert mode of the Volcano scheduler to customize advanced scheduling policies based on service scenarios.

This section describes how to configure volcano-scheduler.

.. note::

   Only Volcano of v1.7.1 and later support this function.

Log in to the CCE console and click the cluster name to access the cluster console. In the navigation pane, choose **Settings** and click the **Scheduling** tab. In the **Select Cluster Scheduler** area, select **Volcano scheduler**, find the expert mode, and click **Try Now**.

-  Using **resource_exporter**:

   .. code-block::

      ...
          "default_scheduler_conf": {
              "actions": "allocate, backfill, preempt",
              "tiers": [
                  {
                      "plugins": [
                          {
                              "name": "priority"
                          },
                          {
                              "name": "gang"
                          },
                          {
                              "name": "conformance"
                          }
                      ]
                  },
                  {
                      "plugins": [
                          {
                              "name": "drf"
                          },
                          {
                              "name": "predicates"
                          },
                          {
                              "name": "nodeorder"
                          }
                      ]
                  },
                  {
                      "plugins": [
                          {
                              "name": "cce-gpu-topology-predicate"
                          },
                          {
                              "name": "cce-gpu-topology-priority"
                          },
                          {
                              "name": "cce-gpu"
                          },
                          {
                              "name": "numa-aware" # add this also enable resource_exporter
                          }
                      ]
                  },
                  {
                      "plugins": [
                          {
                              "name": "nodelocalvolume"
                          },
                          {
                              "name": "nodeemptydirvolume"
                          },
                          {
                              "name": "nodeCSIscheduling"
                          },
                          {
                              "name": "networkresource"
                          }
                      ]
                  }
              ]
          },
      ...

   After this function is enabled, you can use the functions of both numa-aware and resource_exporter.

Collecting Prometheus Metrics
-----------------------------

volcano-scheduler exposes Prometheus metrics through port 8080. You can build a Prometheus collector to identify and obtain volcano-scheduler scheduling metrics from **http://{{volcano-schedulerPodIP}}:{{volcano-schedulerPodPort}}/metrics**.

.. note::

   Prometheus metrics can be exposed only by the Volcano add-on of version 1.8.5 or later.

.. table:: **Table 7** Key metrics

   +-----------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------+
   | Metric                                  | Type      | Description                                                                                                                                                      | Label                                         |
   +=========================================+===========+==================================================================================================================================================================+===============================================+
   | e2e_scheduling_latency_milliseconds     | Histogram | E2E scheduling latency (ms) (scheduling algorithm + binding)                                                                                                     | None                                          |
   +-----------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------+
   | e2e_job_scheduling_latency_milliseconds | Histogram | E2E job scheduling latency (ms)                                                                                                                                  | None                                          |
   +-----------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------+
   | e2e_job_scheduling_duration             | Gauge     | E2E job scheduling duration                                                                                                                                      | labels=["job_name", "queue", "job_namespace"] |
   +-----------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------+
   | plugin_scheduling_latency_microseconds  | Histogram | Add-on scheduling latency (µs)                                                                                                                                   | labels=["plugin", "OnSession"]                |
   +-----------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------+
   | action_scheduling_latency_microseconds  | Histogram | Action scheduling latency (µs)                                                                                                                                   | labels=["action"]                             |
   +-----------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------+
   | task_scheduling_latency_milliseconds    | Histogram | Task scheduling latency (ms)                                                                                                                                     | None                                          |
   +-----------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------+
   | schedule_attempts_total                 | Counter   | Number of pod scheduling attempts. **unschedulable** indicates that the pods cannot be scheduled, and **error** indicates that the internal scheduler is faulty. | labels=["result"]                             |
   +-----------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------+
   | pod_preemption_victims                  | Gauge     | Number of selected preemption victims                                                                                                                            | None                                          |
   +-----------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------+
   | total_preemption_attempts               | Counter   | Total number of preemption attempts in a cluster                                                                                                                 | None                                          |
   +-----------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------+
   | unschedule_task_count                   | Gauge     | Number of unschedulable tasks                                                                                                                                    | labels=["job_id"]                             |
   +-----------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------+
   | unschedule_job_count                    | Gauge     | Number of unschedulable jobs                                                                                                                                     | None                                          |
   +-----------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------+
   | job_retry_counts                        | Counter   | Number of job retries                                                                                                                                            | labels=["job_id"]                             |
   +-----------------------------------------+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------+

Uninstalling the Volcano Add-on
-------------------------------

After the add-on is uninstalled, all custom Volcano resources (:ref:`Table 8 <cce_10_0193__table148801381540>`) will be deleted, including the created resources. Reinstalling the add-on will not inherit or restore the tasks before the uninstallation. It is a good practice to uninstall the Volcano add-on only when no custom Volcano resources are being used in the cluster.

.. _cce_10_0193__table148801381540:

.. table:: **Table 8** Custom Volcano resources

   ============ ===================== =========== ==============
   Item         API Group             API Version Resource Level
   ============ ===================== =========== ==============
   Command      bus.volcano.sh        v1alpha1    Namespaced
   Job          batch.volcano.sh      v1alpha1    Namespaced
   Numatopology nodeinfo.volcano.sh   v1alpha1    Cluster
   PodGroup     scheduling.volcano.sh v1beta1     Namespaced
   Queue        scheduling.volcano.sh v1beta1     Cluster
   ============ ===================== =========== ==============

Change History
--------------

.. important::

   It is a good practice to upgrade Volcano to the latest version that is supported by the cluster.

.. table:: **Table 9** Release history

   +-----------------------+---------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Add-on Version        | Supported Cluster Version | New Feature                                                                                                                                                                |
   +=======================+===========================+============================================================================================================================================================================+
   | 1.16.17               | v1.25                     | Supported even scheduling on virtual GPUs.                                                                                                                                 |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.27                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.28                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.29                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.30                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.31                     |                                                                                                                                                                            |
   +-----------------------+---------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 1.15.6                | v1.23                     | Resources can be oversubscribed based on pod profiling.                                                                                                                    |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.25                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.27                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.28                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.29                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.30                     |                                                                                                                                                                            |
   +-----------------------+---------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 1.13.3                | v1.21                     | -  Supported scale-in of customized resources based on node priorities.                                                                                                    |
   |                       |                           | -  Optimized the association between preemption and node scale-out.                                                                                                        |
   |                       | v1.23                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.25                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.27                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.28                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.29                     |                                                                                                                                                                            |
   +-----------------------+---------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 1.12.1                | v1.19.16                  | Optimized application auto scaling performance.                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.21                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.23                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.25                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.27                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.28                     |                                                                                                                                                                            |
   +-----------------------+---------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 1.11.21               | v1.19.16                  | -  Supported Kubernetes v1.28.                                                                                                                                             |
   |                       |                           | -  Supported load-aware scheduling.                                                                                                                                        |
   |                       | v1.21                     | -  The image OS is updated to HCE OS 2.0.                                                                                                                                  |
   |                       |                           | -  Optimized CSI resource preemption.                                                                                                                                      |
   |                       | v1.23                     | -  Optimized load-aware rescheduling.                                                                                                                                      |
   |                       |                           | -  Optimized preemption in hybrid deployment scenarios.                                                                                                                    |
   |                       | v1.25                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.27                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.28                     |                                                                                                                                                                            |
   +-----------------------+---------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 1.11.6                | v1.19.16                  | -  Supported Kubernetes v1.27.                                                                                                                                             |
   |                       |                           | -  Supported rescheduling.                                                                                                                                                 |
   |                       | v1.21                     | -  Supported affinity scheduling of nodes in the node pool.                                                                                                                |
   |                       |                           | -  Optimized the scheduling performance.                                                                                                                                   |
   |                       | v1.23                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.25                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.27                     |                                                                                                                                                                            |
   +-----------------------+---------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 1.9.1                 | v1.19.16                  | -  Fixed the issue that the counting pipeline pod of the networkresource add-on occupies supplementary network interfaces (sub-ENIs).                                      |
   |                       |                           | -  Fixed the issue where the binpack add-on scores nodes with insufficient resources.                                                                                      |
   |                       | v1.21                     | -  Fixed the issue of processing resources in the pod with unknown end status.                                                                                             |
   |                       |                           | -  Optimized event output.                                                                                                                                                 |
   |                       | v1.23                     | -  Supported HA deployment by default.                                                                                                                                     |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.25                     |                                                                                                                                                                            |
   +-----------------------+---------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 1.7.1                 | v1.19.16                  | Supported clusters v1.25.                                                                                                                                                  |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.21                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.23                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.25                     |                                                                                                                                                                            |
   +-----------------------+---------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 1.4.5                 | v1.17                     | Changed the deployment mode of Volcano Scheduler from StatefulSet to Deployment, and fixed the issue that pods cannot be automatically migrated when the node is abnormal. |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.19                     |                                                                                                                                                                            |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.21                     |                                                                                                                                                                            |
   +-----------------------+---------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | 1.3.7                 | v1.15                     | -  Supported hybrid deployment of online and offline jobs and resource oversubscription.                                                                                   |
   |                       |                           | -  Optimized the scheduling throughput for clusters.                                                                                                                       |
   |                       | v1.17                     | -  Fixed the issue where the scheduler panics in certain scenarios.                                                                                                        |
   |                       |                           | -  Fixed the issue that the volumes.secret verification of the volcano job in the CCE clusters v1.15 fails.                                                                |
   |                       | v1.19                     | -  Fixed the issue that jobs fail to be scheduled when volumes are mounted.                                                                                                |
   |                       |                           |                                                                                                                                                                            |
   |                       | v1.21                     |                                                                                                                                                                            |
   +-----------------------+---------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
