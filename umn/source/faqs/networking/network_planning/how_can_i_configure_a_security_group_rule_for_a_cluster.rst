:original_name: cce_faq_00265.html

.. _cce_faq_00265:

How Can I Configure a Security Group Rule for a Cluster?
========================================================

CCE is a universal container platform. Its default security group rules apply to common scenarios. When a cluster is created, a security group is automatically created for the master nodes and worker nodes, separately. The name of the master node security group is in the format of *{Cluster name}*\ **-cce-control-**\ *{Random ID}*, and that of the worker node security group is in the format of *{Cluster name}*\ **-cce-node-**\ *{Random ID}*. For a CCE Turbo cluster, an additional elastic network interface security group, with the name following the format of *{Cluster name}*\ **-cce-eni-**\ *{Random ID}*, will be created.

You can log in to the VPC console, choose **Access Control** > **Security Groups** in the navigation pane, and modify the security group rules for the cluster based on your security requirements.

You can check the default security group rules of clusters using different network models in:

-  :ref:`Security Group Rules in a Cluster That Uses the VPC Network Model <cce_faq_00265__section726682184019>`
-  :ref:`Security Group Rules in a Cluster That Uses the Tunnel Network Model <cce_faq_00265__section1427413563337>`
-  :ref:`Security Group Rules in a CCE Turbo Cluster That Uses the Cloud Native 2.0 Network Model <cce_faq_00265__section94793418319>`

.. important::

   -  Be careful when **modifying or removing** security group rules as it could **impact the cluster's operation**. Avoid modifying the rules for the ports essential to CCE.
   -  When adding a security group rule, ensure that **this rule does not conflict with the existing rules**. If there is a conflict, existing rules may become invalid, affecting cluster running.

.. _cce_faq_00265__section726682184019:

Security Group Rules in a Cluster That Uses the VPC Network Model
-----------------------------------------------------------------

**Worker node security group**

A security group, with a name following the format of *{Cluster name}*\ **-cce-node-**\ *{Random ID}*, is automatically created for the worker nodes in a cluster. For details about the default ports, see :ref:`Table 1 <cce_faq_00265__table171121082412>`.

.. _cce_faq_00265__table171121082412:

.. table:: **Table 1** Default ports in the security group of the worker nodes in a cluster that uses the VPC network model

   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Direction     | Port                           | Default Source Address       | Description                                                                                                                 | Modification Suggestion        | Impact After Modification                                                                                                                                                                       |
   +===============+================================+==============================+=============================================================================================================================+================================+=================================================================================================================================================================================================+
   | Inbound rules | All UDP ports                  | VPC CIDR block               | Allow access between the worker nodes and between the worker nodes and the master nodes.                                    | Modification not recommended   | Modifying the configuration can interrupt the cluster functionality.                                                                                                                            |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | All TCP ports                  |                              |                                                                                                                             |                                |                                                                                                                                                                                                 |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | All ICMP ports                 | Master node security group   | Allow the master nodes to access the worker nodes.                                                                          | Modification not recommended   | Modifying the configuration can interrupt the cluster functionality.                                                                                                                            |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port range: 30000 to 32767 | All IP addresses (0.0.0.0/0) | Allow access from the NodePort Services.                                                                                    | Modification made if necessary | The ports must allow traffic from the CIDR blocks of the VPC, container, and load balancer.                                                                                                     |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | UDP port range: 30000 to 32767 |                              |                                                                                                                             |                                |                                                                                                                                                                                                 |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | All                            | Container CIDR block         | Allow containers within the cluster to access the nodes.                                                                    | Modification not recommended   | Modifying the configuration can interrupt the cluster functionality.                                                                                                                            |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | All                            | Worker node security group   | Restrict access from outside the worker node security group, but the access between pods in the worker node security group. | Modification not recommended   | Modifying the configuration can interrupt the cluster functionality.                                                                                                                            |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 22                    | All IP addresses (0.0.0.0/0) | Allow SSH access to Linux ECSs.                                                                                             | **Modification recommended**   | You are advised to allow access only from fixed IP addresses or IP address ranges.                                                                                                              |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Outbound rule | All                            | All IP addresses (0.0.0.0/0) | Allow traffic on all ports by default. You are advised to retain this setting.                                              | Modification made if necessary | If you want to harden security by allowing traffic only on specific ports, remember to allow such ports. For details, see :ref:`Hardening Outbound Rules <cce_faq_00265__section153292054619>`. |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Master node security group**

A security group, with a name following the format of *{Cluster name}*\ **-cce-control-**\ *{Random ID}*, is automatically created for the master nodes in a cluster. For details about the default ports, see :ref:`Table 2 <cce_faq_00265__table16149351122118>`.

.. _cce_faq_00265__table16149351122118:

.. table:: **Table 2** Default ports in the security group of the master nodes in a cluster that uses the VPC network model

   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   | Direction     | Port          | Default Source Address       | Description                                                                                                                        | Modification Suggestion      | Impact After Modification                                                                                                 |
   +===============+===============+==============================+====================================================================================================================================+==============================+===========================================================================================================================+
   | Inbound rules | TCP port 5444 | VPC CIDR block               | Allow access from kube-apiserver, which provides lifecycle management for Kubernetes resources.                                    | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 5444 | Container CIDR block         |                                                                                                                                    |                              |                                                                                                                           |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 9443 | VPC CIDR block               | Allow the network add-on of the worker nodes to access the master nodes.                                                           | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 5443 | All IP addresses (0.0.0.0/0) | The HAProxy load balancing port for kube-apiserver, which allows incoming requests to be forwarded to backend kube-apiserver pods. | **Modification recommended** | The port must allow traffic from the CIDR blocks of the VPC, the control plane of the hosted service mesh, and container. |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 8445 | VPC CIDR block               | Allow the storage add-on of the worker nodes to access the master nodes.                                                           | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | All           | Master node security group   | Restrict access from outside the master node security group, but the access between pods in the master node security group.        | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   | Outbound rule | All           | All IP addresses (0.0.0.0/0) | Allow traffic on all ports by default.                                                                                             | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+

.. _cce_faq_00265__section1427413563337:

Security Group Rules in a Cluster That Uses the Tunnel Network Model
--------------------------------------------------------------------

**Worker node security group**

A security group, with a name following the format of *{Cluster name}*\ **-cce-node-**\ *{Random ID}*, is automatically created for the worker nodes in a cluster. For details about the default ports, see :ref:`Table 3 <cce_faq_00265__table07551928134215>`.

.. _cce_faq_00265__table07551928134215:

.. table:: **Table 3** Default ports in the security group of the worker nodes in a cluster that uses the tunnel network model

   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Direction     | Port                           | Default Source Address       | Description                                                                                                                 | Modification Suggestion        | Impact After Modification                                                                                                                                                                       |
   +===============+================================+==============================+=============================================================================================================================+================================+=================================================================================================================================================================================================+
   | Inbound rules | UDP port 4789                  | All IP addresses (0.0.0.0/0) | Allow access between containers.                                                                                            | Modification not recommended   | Modifying the configuration can interrupt the cluster functionality.                                                                                                                            |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 10250                 | Master node CIDR block       | Allow the master nodes to access kubelet on the worker nodes to run commands, for example, **kubectl exec** *{pod}*.        | Modification not recommended   | Modifying the configuration can interrupt the cluster functionality.                                                                                                                            |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port range: 30000 to 32767 | All IP addresses (0.0.0.0/0) | Allow access from the NodePort Services.                                                                                    | Modification made if necessary | The ports must allow traffic from the CIDR blocks of the VPC, load balancer, and container.                                                                                                     |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | UDP port range: 30000 to 32767 |                              |                                                                                                                             |                                |                                                                                                                                                                                                 |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 22                    | All IP addresses (0.0.0.0/0) | Allow SSH access to Linux ECSs.                                                                                             | **Modification recommended**   | You are advised to allow access only from fixed IP addresses or IP address ranges.                                                                                                              |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | All                            | Worker node security group   | Restrict access from outside the worker node security group, but the access between pods in the worker node security group. | Modification not recommended   | Modifying the configuration can interrupt the cluster functionality.                                                                                                                            |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Outbound rule | All                            | All IP addresses (0.0.0.0/0) | Allow traffic on all ports by default. You are advised to retain this setting.                                              | Modification made if necessary | If you want to harden security by allowing traffic only on specific ports, remember to allow such ports. For details, see :ref:`Hardening Outbound Rules <cce_faq_00265__section153292054619>`. |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Master node security group**

A security group, with a name following the format of *{Cluster name}*\ **-cce-control-**\ *{Random ID}*, is automatically created for the master nodes in a cluster. For details about the default ports, see :ref:`Table 4 <cce_faq_00265__table657323917482>`.

.. _cce_faq_00265__table657323917482:

.. table:: **Table 4** Default ports in the security group of the master nodes in a cluster that uses the tunnel network model

   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   | Direction     | Port          | Default Source Address       | Description                                                                                                                        | Modification Suggestion      | Impact After Modification                                                                                                 |
   +===============+===============+==============================+====================================================================================================================================+==============================+===========================================================================================================================+
   | Inbound rules | UDP port 4789 | All IP addresses (0.0.0.0/0) | Allow access between containers.                                                                                                   | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 5444 | VPC CIDR block               | Allow access from kube-apiserver, which provides lifecycle management for Kubernetes resources.                                    | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 5444 | Container CIDR block         |                                                                                                                                    |                              |                                                                                                                           |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 9443 | VPC CIDR block               | Allow the network add-on of the worker nodes to access the master nodes.                                                           | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 5443 | All IP addresses (0.0.0.0/0) | The HAProxy load balancing port for kube-apiserver, which allows incoming requests to be forwarded to backend kube-apiserver pods. | **Modification recommended** | The port must allow traffic from the CIDR blocks of the VPC, the control plane of the hosted service mesh, and container. |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 8445 | VPC CIDR block               | Allow the storage add-on of the worker nodes to access the master nodes.                                                           | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | All           | Master node security group   | Restrict access from outside the master node security group, but the access between pods in the master node security group.        | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   | Outbound rule | All           | All IP addresses (0.0.0.0/0) | Allow traffic on all ports by default.                                                                                             | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+

.. _cce_faq_00265__section94793418319:

Security Group Rules in a CCE Turbo Cluster That Uses the Cloud Native 2.0 Network Model
----------------------------------------------------------------------------------------

**Worker node security group**

A security group, with a name following the format of *{Cluster name}*\ **-cce-node-**\ *{Random ID}*, is automatically created for the worker nodes in a cluster. For details about the default ports, see :ref:`Table 5 <cce_faq_00265__table15437132515819>`.

.. _cce_faq_00265__table15437132515819:

.. table:: **Table 5** Default ports in the security group of the worker nodes in a CCE Turbo cluster that uses the Cloud Native 2.0 network model

   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Direction     | Port                           | Default Source Address       | Description                                                                                                                 | Modification Suggestion        | Impact After Modification                                                                                                                                                                       |
   +===============+================================+==============================+=============================================================================================================================+================================+=================================================================================================================================================================================================+
   | Inbound rules | TCP port 10250                 | Master node CIDR block       | Allow the master nodes to access kubelet on the worker nodes to run commands, for example, **kubectl exec** *{pod}*.        | Modification not recommended   | Modifying the configuration can interrupt the cluster functionality.                                                                                                                            |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port range: 30000 to 32767 | All IP addresses (0.0.0.0/0) | Allow access from the NodePort Services.                                                                                    | Modification made if necessary | The ports must allow traffic from the CIDR blocks of the VPC, load balancer, and container.                                                                                                     |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | UDP port range: 30000 to 32767 |                              |                                                                                                                             |                                |                                                                                                                                                                                                 |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 22                    | All IP addresses (0.0.0.0/0) | Allow SSH access to Linux ECSs.                                                                                             | **Modification recommended**   | You are advised to allow access only from fixed IP addresses or IP address ranges.                                                                                                              |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | All                            | Worker node security group   | Restrict access from outside the worker node security group, but the access between pods in the worker node security group. | Modification not recommended   | Modifying the configuration can interrupt the cluster functionality.                                                                                                                            |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |               | All                            | Container subnet CIDR block  | Allow containers within the cluster to access the nodes.                                                                    | Modification not recommended   | Modifying the configuration can interrupt the cluster functionality.                                                                                                                            |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Outbound rule | All                            | All IP addresses (0.0.0.0/0) | Allow traffic on all ports by default. You are advised to retain this setting.                                              | Modification made if necessary | If you want to harden security by allowing traffic only on specific ports, remember to allow such ports. For details, see :ref:`Hardening Outbound Rules <cce_faq_00265__section153292054619>`. |
   +---------------+--------------------------------+------------------------------+-----------------------------------------------------------------------------------------------------------------------------+--------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Master node security group**

A security group, with a name following the format of *{Cluster name}*\ **-cce-control-**\ *{Random ID}*, is automatically created for the master nodes in a cluster. For details about the default ports, see :ref:`Table 6 <cce_faq_00265__table623018122618>`.

.. _cce_faq_00265__table623018122618:

.. table:: **Table 6** Default ports in the security group of the master nodes in a CCE Turbo cluster that uses the Cloud Native 2.0 network model

   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   | Direction     | Port          | Default Source Address       | Description                                                                                                                        | Modification Suggestion      | Impact After Modification                                                                                                 |
   +===============+===============+==============================+====================================================================================================================================+==============================+===========================================================================================================================+
   | Inbound rules | TCP port 5444 | All IP addresses (0.0.0.0/0) | Allow access from kube-apiserver, which provides lifecycle management for Kubernetes resources.                                    | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 5444 | VPC CIDR block               |                                                                                                                                    | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 9443 | VPC CIDR block               | Allow the network add-on of the worker nodes to access the master nodes.                                                           | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 5443 | All IP addresses (0.0.0.0/0) | The HAProxy load balancing port for kube-apiserver, which allows incoming requests to be forwarded to backend kube-apiserver pods. | **Modification recommended** | The port must allow traffic from the CIDR blocks of the VPC, the control plane of the hosted service mesh, and container. |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | TCP port 8445 | VPC CIDR block               | Allow the storage add-on of the worker nodes to access the master nodes.                                                           | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | All           | Master node security group   | Restrict access from outside the master node security group, but the access between pods in the master node security group.        | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   |               | All           | Container subnet CIDR block  | Allow traffic from all source IP addresses in the container subnet CIDR block.                                                     | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+
   | Outbound rule | All           | All IP addresses (0.0.0.0/0) | Allow traffic on all ports by default.                                                                                             | Modification not recommended | Modifying the configuration can interrupt the cluster functionality.                                                      |
   +---------------+---------------+------------------------------+------------------------------------------------------------------------------------------------------------------------------------+------------------------------+---------------------------------------------------------------------------------------------------------------------------+

**Elastic network interface security group**

In a CCE Turbo cluster, an additional security group, with the name following the format of *{Cluster name}*\ **-cce-eni-**\ *{Random ID}*, is created. By default, containers in the cluster are bound to this security group. For details about the default ports, see :ref:`Table 7 <cce_faq_00265__table499619352347>`.

.. _cce_faq_00265__table499619352347:

.. table:: **Table 7** Default ports of the elastic network interface security group in a CCE Turbo cluster that uses the Cloud Native 2.0 network model

   +---------------+------+------------------------------------------+--------------------------------------------------------------+------------------------------+----------------------------------------------------------------------+
   | Direction     | Port | Default Source Address                   | Description                                                  | Modification Suggestion      | Impact After Modification                                            |
   +===============+======+==========================================+==============================================================+==============================+======================================================================+
   | Inbound rules | All  | Elastic network interface security group | Allow containers within the cluster to access each other.    | Modification not recommended | Modifying the configuration can interrupt the cluster functionality. |
   +---------------+------+------------------------------------------+--------------------------------------------------------------+------------------------------+----------------------------------------------------------------------+
   |               |      | VPC CIDR block                           | Allow instances in the cluster VPC to access the containers. | Modification not recommended | Modifying the configuration can interrupt the cluster functionality. |
   +---------------+------+------------------------------------------+--------------------------------------------------------------+------------------------------+----------------------------------------------------------------------+
   | Outbound rule | All  | All IP addresses (0.0.0.0/0)             | Allow traffic on all ports by default.                       | Modification not recommended | Modifying the configuration can interrupt the cluster functionality. |
   +---------------+------+------------------------------------------+--------------------------------------------------------------+------------------------------+----------------------------------------------------------------------+

.. _cce_faq_00265__section153292054619:

Hardening Outbound Rules
------------------------

By default, all security groups created by CCE allow all the **outbound** traffic. You are advised to retain this configuration. To harden outbound rules, ensure that the traffic on the ports listed in the following table is allowed.

.. table:: **Table 8** Minimum configurations of outbound security group rules for the worker nodes

   +------------------------------------------------------------------------+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------+
   | Port                                                                   | Allowed CIDR                          | Description                                                                                                                        |
   +========================================================================+=======================================+====================================================================================================================================+
   | TCP port 53                                                            | DNS server of the subnet              | Allow traffic on the port for domain name resolution.                                                                              |
   +------------------------------------------------------------------------+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------+
   | UDP port 53                                                            |                                       |                                                                                                                                    |
   +------------------------------------------------------------------------+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------+
   | TCP port 5353                                                          | Container CIDR block                  | Allow traffic on the port for CoreDNS domain name resolution.                                                                      |
   +------------------------------------------------------------------------+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------+
   | UDP port 5353                                                          |                                       |                                                                                                                                    |
   +------------------------------------------------------------------------+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------+
   | UDP port 4789 (required only by clusters that use the tunnel networks) | All IP addresses                      | Allow access between containers.                                                                                                   |
   +------------------------------------------------------------------------+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------+
   | TCP port 5443                                                          | Master node CIDR block                | The HAProxy load balancing port for kube-apiserver, which allows incoming requests to be forwarded to backend kube-apiserver pods. |
   +------------------------------------------------------------------------+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------+
   | TCP port 5444                                                          | CIDR blocks of the VPC and containers | Allow access from kube-apiserver, which provides lifecycle management for Kubernetes resources.                                    |
   +------------------------------------------------------------------------+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------+
   | TCP port 6443                                                          | Master node CIDR block                | ``-``                                                                                                                              |
   +------------------------------------------------------------------------+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------+
   | TCP port 8445                                                          | VPC CIDR block                        | Allow the storage add-on of the worker nodes to access the master nodes.                                                           |
   +------------------------------------------------------------------------+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------+
   | TCP port 9443                                                          | VPC CIDR block                        | Allow the network add-on of the worker nodes to access the master nodes.                                                           |
   +------------------------------------------------------------------------+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------+
   | All ports                                                              | 198.19.128.0/17                       | Allow access to VPC Endpoint (VPCEP).                                                                                              |
   +------------------------------------------------------------------------+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------+
   | UDP port 123                                                           | 100.125.0.0/16                        | Allow the worker nodes to access the internal NTP server.                                                                          |
   +------------------------------------------------------------------------+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------+
   | TCP port 443                                                           | 100.125.0.0/16                        | Allow the worker nodes to access OBS over internal networks to pull the installation package.                                      |
   +------------------------------------------------------------------------+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------+
   | TCP port 6443                                                          | 100.125.0.0/16                        | Allow the worker nodes to report that the worker nodes have been installed.                                                        |
   +------------------------------------------------------------------------+---------------------------------------+------------------------------------------------------------------------------------------------------------------------------------+
