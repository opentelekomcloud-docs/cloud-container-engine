:original_name: cce_10_0409.html

.. _cce_10_0409:

Optimizable Node System Parameters
==================================

CCE provides default node system parameters, which may cause performance bottlenecks in some scenarios. Therefore, you can customize and optimize some node system parameters. :ref:`Optimizable Node System Parameters <cce_10_0409>` describes the node system parameters.

.. important::

   -  The modification has certain risks. Be familiar with Linux commands and Linux OS.
   -  The parameters listed in :ref:`Table 1 <cce_10_0409__table1079113581068>` have been tested and verified. **Do not modify other parameters**. Otherwise, node faults may occur.
   -  The commands for modifying node system parameters are valid only when public images are used. The commands provided in this document are for reference only when private images are used.
   -  After the node is restarted, run the **sysctl -p** command to update the parameter value.

.. _cce_10_0409__table1079113581068:

.. table:: **Table 1** System parameters that can be optimized

   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | Parameter                                    | Parameter Location                                             | Description                                                                                                                                                                                                                                                                                                                                                                              | Reference                                                                                                             |
   +==============================================+================================================================+==========================================================================================================================================================================================================================================================================================================================================================================================+=======================================================================================================================+
   | kernel.pid_max                               | /etc/sysctl.conf                                               | Maximum number of process IDs on a node                                                                                                                                                                                                                                                                                                                                                  | :ref:`Changing Process ID Limits (kernel.pid_max) <cce_10_0401>`                                                      |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    sysctl kernel.pid_max                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | RuntimeMaxUse                                | /etc/systemd/journald.conf                                     | Upper limit of the memory occupied by the node log cache. If this parameter is not set, a large amount of memory will be occupied after the system runs for a long time.                                                                                                                                                                                                                 | :ref:`Changing the RuntimeMaxUse of the Memory Used by the Log Cache on a Node <cce_10_0410>`                         |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    cat /etc/systemd/journald.conf | grep RuntimeMaxUse                                                                                                                                                                                                                                                                                                                                   |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | Openfiles                                    | /etc/security/limits.conf                                      | Maximum number of file handles for a single process on a node, which can be adjusted as required.                                                                                                                                                                                                                                                                                        | :ref:`Changing the Maximum Number of File Handles for a Single Process on a Node <cce_10_0411__section57532291011>`   |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    ulimit -n                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | (Inside the Openfiles container)             | -  CentOS/EulerOS:                                             | Maximum number of file handles for a single process in a container, which can be adjusted as required.                                                                                                                                                                                                                                                                                   | :ref:`Changing the Maximum Number of File Handles for a Single Container Process <cce_10_0411__section1732602025518>` |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   | LimitNOFILE                                  |    -  Docker nodes: /usr/lib/systemd/system/docker.service     | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |    -  Docker nodes: /usr/lib/systemd/system/containerd.service |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   | LimitNPROC                                   |                                                                | Docker nodes:                                                                                                                                                                                                                                                                                                                                                                            |                                                                                                                       |
   |                                              | -  Ubuntu:                                                     |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |    -  Docker nodes: /lib/systemd/system/docker.service         |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |    -  Docker nodes: /lib/systemd/system/containerd.service     |    cat /proc/`pidof dockerd`/limits | grep files                                                                                                                                                                                                                                                                                                                                         |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | containerd nodes:                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    cat /proc/`pidof containerd`/limits | grep files                                                                                                                                                                                                                                                                                                                                      |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | file-max                                     | /etc/sysctl.conf                                               | Maximum number of file handles in the system, which can be adjusted as required.                                                                                                                                                                                                                                                                                                         | :ref:`Changing the Maximum Number of System-Level File Handles on a Node <cce_10_0411__section156844286910>`          |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    sysctl fs.file-max                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | nf_conntrack_buckets                         | /etc/sysctl.conf                                               | Capacity of the connection tracing table, which can be adjusted as required.                                                                                                                                                                                                                                                                                                             | :ref:`Modifying Node Kernel Parameters <cce_10_0412>`                                                                 |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   | nf_conntrack_max                             |                                                                | Bucket usage = [nf_conntrack_count]/[nf_conntrack_buckets]                                                                                                                                                                                                                                                                                                                               |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Adjust the buckets value to ensure that the bucket usage is lower than 0.7.                                                                                                                                                                                                                                                                                                              |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    sysctl net.netfilter.nf_conntrack_count                                                                                                                                                                                                                                                                                                                                               |                                                                                                                       |
   |                                              |                                                                |    sysctl net.netfilter.nf_conntrack_buckets                                                                                                                                                                                                                                                                                                                                             |                                                                                                                       |
   |                                              |                                                                |    sysctl net.netfilter.nf_conntrack_max                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | net.netfilter.nf_conntrack_tcp_timeout_close | /etc/sysctl.conf                                               | Expiration time of the entry of the connection in the close state in the connection tracking table. Shortening the expiration time can speed up the recycling.                                                                                                                                                                                                                           |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    sysctl net.netfilter.nf_conntrack_tcp_timeout_close                                                                                                                                                                                                                                                                                                                                   |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | net.netfilter.nf_conntrack_tcp_be_liberal    | /etc/sysctl.conf                                               | The parameter value is **0** or **1**.                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | -  **0**: The function is disabled. All packets that are not in the TCP window are marked as invalid.                                                                                                                                                                                                                                                                                    |                                                                                                                       |
   |                                              |                                                                | -  **1**: The function is enabled. Only packets that are not in the TCP window are marked as invalid. In containers, enabling this parameter can prevent the bandwidth of TCP connections that have been translated using NAT from being limited.                                                                                                                                        |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    sysctl net.netfilter.nf_conntrack_tcp_be_liberal                                                                                                                                                                                                                                                                                                                                      |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | tcp_keepalive_time                           | /etc/sysctl.conf                                               | Interval at which a TCP keepalive message is sent. If this parameter is set to a large value, TCP connections may be suspended with **Close_wait** state for a long time, which exhausts system resources.                                                                                                                                                                               |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    sysctl net.ipv4.tcp_keepalive_time                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | tcp_max_syn_backlog                          | /etc/sysctl.conf                                               | Maximum number of TCP half-connections, that is, the maximum number of connections in the **SYN_RECV** queue.                                                                                                                                                                                                                                                                            |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    sysctl net.ipv4.tcp_max_syn_backlog                                                                                                                                                                                                                                                                                                                                                   |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | tcp_max_tw_buckets                           | /etc/sysctl.conf                                               | Specifies the maximum number of sockets in the **time-wait** state that can exist at any time. If the parameter value is too large, node resources may be exhausted.                                                                                                                                                                                                                     |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    sysctl net.ipv4.tcp_max_tw_buckets                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | net.core.somaxconn                           | /etc/sysctl.conf                                               | Maximum number of TCP connections. This parameter controls the number of TCP connections in a queue. If this parameter is set to a small value, the number of TCP connections is prone to insufficiency. If this parameter is set to a large value, system resources may be wasted because each client waiting for connection in the connection queue occupies certain memory resources. |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    sysctl net.core.somaxconn                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | max_user_instances                           | /etc/sysctl.conf                                               | Maximum number of inotify instances allowed for each user. If the parameter value is too small, the number of inotify instances may be insufficient in containers.                                                                                                                                                                                                                       |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    sysctl fs.inotify.max_user_instances                                                                                                                                                                                                                                                                                                                                                  |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | max_user_watches                             | /etc/sysctl.conf                                               | Maximum number of directories of all monitoring instances. If the parameter value is too small, the number of directories may be insufficient in containers.                                                                                                                                                                                                                             |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    sysctl fs.inotify.max_user_watches                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | netdev_max_backlog                           | /etc/sysctl.conf                                               | Size of the packet receiving queue of the network protocol stack. If the parameter value is too small, the queue size may be insufficient.                                                                                                                                                                                                                                               |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    sysctl net.core.netdev_max_backlog                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | net.core.wmem_max                            | /etc/sysctl.conf                                               | Memory size (bytes) of the sending and receiving buffer. If this parameter is set to a small value, the memory size may be insufficient in large file scenarios.                                                                                                                                                                                                                         |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   | net.core.rmem_max                            |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    sysctl net.core.wmem_max                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                       |
   |                                              |                                                                |    sysctl net.core.rmem_max                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | net.ipv4.neigh.default.gc_thresh1            | /etc/sysctl.conf                                               | Optimization of the garbage collection of ARP entries.                                                                                                                                                                                                                                                                                                                                   |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   | net.ipv4.neigh.default.gc_thresh2            |                                                                | -  **gc_thresh1**: indicates the minimum number of entries that can be reserved. If the number of entries is less than the **gc_thresh1** value, the garbage collector (GC) will not reclaim these entries. **Do not modify the default parameter setting.**                                                                                                                             |                                                                                                                       |
   |                                              |                                                                | -  **gc_thresh2**: When the number of entries exceeds the value of this parameter, the GC will clear the entries that have been stored for more than 5 seconds. **Do not modify the default parameter setting.**                                                                                                                                                                         |                                                                                                                       |
   | net.ipv4.neigh.default.gc_thresh3            |                                                                | -  **gc_thresh3**: indicates the maximum number of non-permanent entries. If the system provides a large number of APIs or is directly connected to a large number of devices, increase the value of this parameter.                                                                                                                                                                     |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    sysctl net.ipv4.neigh.default.gc_thresh1                                                                                                                                                                                                                                                                                                                                              |                                                                                                                       |
   |                                              |                                                                |    sysctl net.ipv4.neigh.default.gc_thresh2                                                                                                                                                                                                                                                                                                                                              |                                                                                                                       |
   |                                              |                                                                |    sysctl net.ipv4.neigh.default.gc_thresh3                                                                                                                                                                                                                                                                                                                                              |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
   | vm.max_map_count                             | /etc/sysctl.conf                                               | If this parameter is set to a small value, a message is displayed indicating that the space is insufficient during ELK installation.                                                                                                                                                                                                                                                     |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | Obtaining the parameter:                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                | .. code-block::                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                       |
   |                                              |                                                                |    sysctl vm.max_map_count                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                       |
   +----------------------------------------------+----------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------+
