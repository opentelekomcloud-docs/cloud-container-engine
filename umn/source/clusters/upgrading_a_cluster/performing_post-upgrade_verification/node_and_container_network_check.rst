:original_name: cce_10_0563.html

.. _cce_10_0563:

Node and Container Network Check
================================

Check Items
-----------

-  Check whether nodes are running properly.
-  Check whether the node network is functional.
-  Check whether the container network is functional.

Procedure
---------

If the container network malfunctions, services will be abnormal. Check whether your services are running properly.

If a node component or the node network malfunctions, the node will be abnormal. Perform the following steps to check the node status:

#. Log in to the CCE console and click the cluster name to access the cluster console.
#. In the navigation pane, choose **Nodes**. On the displayed page, click the **Nodes** tab and check whether there are abnormal nodes (which can be filtered in the **Status** column).

Solution
--------

If the node status is abnormal, contact technical support.

If the container network is abnormal and your services are affected, contact technical support and confirm the abnormal network access path.

+-------------------------------------------------------------------------+------------------------------------------------------------------------------+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------+
| Source                                                                  | Destination                                                                  | Destination Type                     | Possible Fault                                                                                                            |
+=========================================================================+==============================================================================+======================================+===========================================================================================================================+
| -  Pods (inside a cluster)                                              | Public IP address of Service ELB                                             | Cluster traffic load balancing entry | ``-``                                                                                                                     |
| -  Nodes (inside a cluster)                                             |                                                                              |                                      |                                                                                                                           |
| -  Cloud servers outside the cluster but in the same VPC as the cluster |                                                                              |                                      |                                                                                                                           |
| -  Outside the VPC to which the cluster belongs                         |                                                                              |                                      |                                                                                                                           |
+-------------------------------------------------------------------------+------------------------------------------------------------------------------+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------+
|                                                                         | Private IP address of Service ELB                                            | Cluster traffic load balancing entry | ``-``                                                                                                                     |
+-------------------------------------------------------------------------+------------------------------------------------------------------------------+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------+
|                                                                         | Public IP address of ingress ELB                                             | Cluster traffic load balancing entry | ``-``                                                                                                                     |
+-------------------------------------------------------------------------+------------------------------------------------------------------------------+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------+
|                                                                         | Private IP address of ingress ELB                                            | Cluster traffic load balancing entry | ``-``                                                                                                                     |
+-------------------------------------------------------------------------+------------------------------------------------------------------------------+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------+
|                                                                         | Public IP address of NodePort Service                                        | Cluster traffic entry                | The kube proxy configuration is overwritten. This fault has been rectified in the upgrade process.                        |
+-------------------------------------------------------------------------+------------------------------------------------------------------------------+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------+
|                                                                         | Private IP address of NodePort Service                                       | Cluster traffic entry                | ``-``                                                                                                                     |
+-------------------------------------------------------------------------+------------------------------------------------------------------------------+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------+
|                                                                         | ClusterIP Service                                                            | Service network plane                | ``-``                                                                                                                     |
+-------------------------------------------------------------------------+------------------------------------------------------------------------------+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------+
|                                                                         | Non NodePort Service port                                                    | Container network                    | ``-``                                                                                                                     |
+-------------------------------------------------------------------------+------------------------------------------------------------------------------+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------+
|                                                                         | Cross-node pods                                                              | Container network plane              | ``-``                                                                                                                     |
+-------------------------------------------------------------------------+------------------------------------------------------------------------------+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------+
|                                                                         | Pods on the same node                                                        | Container network plane              | ``-``                                                                                                                     |
+-------------------------------------------------------------------------+------------------------------------------------------------------------------+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------+
|                                                                         | Service and pod domain names are resolved by CoreDNS.                        | Domain name resolution               | ``-``                                                                                                                     |
+-------------------------------------------------------------------------+------------------------------------------------------------------------------+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------+
|                                                                         | External domain names are resolved based on the CoreDNS hosts configuration. | Domain name resolution               | After CoreDNS is upgraded, the configuration is overwritten. This fault has been rectified in the add-on upgrade process. |
+-------------------------------------------------------------------------+------------------------------------------------------------------------------+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------+
|                                                                         | External domain names are resolved based on the CoreDNS upstream server.     | Domain name resolution               | After CoreDNS is upgraded, the configuration is overwritten. This fault has been rectified in the add-on upgrade process. |
+-------------------------------------------------------------------------+------------------------------------------------------------------------------+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------+
|                                                                         | External domain names are not resolved by CoreDNS.                           | Domain name resolution               | ``-``                                                                                                                     |
+-------------------------------------------------------------------------+------------------------------------------------------------------------------+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------+
