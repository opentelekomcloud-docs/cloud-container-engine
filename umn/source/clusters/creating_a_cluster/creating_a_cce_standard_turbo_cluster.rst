:original_name: cce_10_0028.html

.. _cce_10_0028:

Creating a CCE Standard/Turbo Cluster
=====================================

On the CCE console, you can easily create Kubernetes clusters. After a cluster is created, the master node is hosted by CCE. You only need to create worker nodes. In this way, you can implement cost-effective O&M and efficient service deployment.

Precautions
-----------

-  After a cluster is created, the following items cannot be changed:

   -  Cluster type
   -  Number of master nodes in the cluster
   -  AZ of a master node
   -  Network configurations of the cluster, such as the VPC, subnet, Service CIDR block, IPv6 settings, and kube-proxy settings
   -  Network model. For example, change **Tunnel network** to **VPC network**.

Step 1: Log In to the CCE Console
---------------------------------

#. Log in to the CCE console.
#. On the **Clusters** page, click **Create** **Cluster**.

Step 2: Configure the Cluster
-----------------------------

On the **Create** **Cluster** page, configure the parameters.

**Basic Settings**

+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Parameter                         | Description                                                                                                                                                                                                                                                                                                                     |
+===================================+=================================================================================================================================================================================================================================================================================================================================+
| Type                              | Select **CCE Standard Cluster** or **CCE Turbo Cluster** as required.                                                                                                                                                                                                                                                           |
|                                   |                                                                                                                                                                                                                                                                                                                                 |
|                                   | -  CCE standard clusters provide highly reliable and secure containers for commercial use.                                                                                                                                                                                                                                      |
|                                   | -  CCE Turbo clusters use the high-performance cloud native network. Such clusters provide cloud native hybrid scheduling, achieving higher resource utilization and wider scenario coverage.                                                                                                                                   |
|                                   |                                                                                                                                                                                                                                                                                                                                 |
|                                   | For more details, see :ref:`cluster types <cce_10_0342>`.                                                                                                                                                                                                                                                                       |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Cluster Name                      | Enter a cluster name. Cluster names under the same account must be unique.                                                                                                                                                                                                                                                      |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Cluster Version                   | Select the Kubernetes version used by the cluster.                                                                                                                                                                                                                                                                              |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Cluster Scale                     | Select a cluster scale for your cluster as required. These values specify the maximum number of nodes that can be managed by the cluster.                                                                                                                                                                                       |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Master Nodes                      | Select the number of master nodes. The master nodes are automatically hosted by CCE and deployed with Kubernetes cluster management components such as kube-apiserver, kube-controller-manager, and kube-scheduler.                                                                                                             |
|                                   |                                                                                                                                                                                                                                                                                                                                 |
|                                   | -  **3 Masters**: Three master nodes will be created for high cluster availability.                                                                                                                                                                                                                                             |
|                                   | -  **Single**: Only one master node will be created in your cluster.                                                                                                                                                                                                                                                            |
|                                   |                                                                                                                                                                                                                                                                                                                                 |
|                                   |    .. note::                                                                                                                                                                                                                                                                                                                    |
|                                   |                                                                                                                                                                                                                                                                                                                                 |
|                                   |       -  If more than half of the master nodes in a CCE cluster are faulty, the cluster cannot function properly.                                                                                                                                                                                                               |
|                                   |                                                                                                                                                                                                                                                                                                                                 |
|                                   | You can also select AZs for deploying the master nodes of a specific cluster. By default, AZs are allocated automatically for the master nodes.                                                                                                                                                                                 |
|                                   |                                                                                                                                                                                                                                                                                                                                 |
|                                   | -  **Automatic**: Master nodes are randomly distributed in different AZs for cluster DR. If the number of available AZs is less than the number of nodes to be created, CCE will create the nodes in the AZs with sufficient resources to preferentially ensure cluster creation. In this case, AZ-level DR may not be ensured. |
|                                   |                                                                                                                                                                                                                                                                                                                                 |
|                                   | -  **Custom**: Master nodes are deployed in specific AZs.                                                                                                                                                                                                                                                                       |
|                                   |                                                                                                                                                                                                                                                                                                                                 |
|                                   |    If there is one master node in your cluster, you can select one AZ for the master node. If there are multiple master nodes in your cluster, you can select multiple AZs for the master nodes.                                                                                                                                |
|                                   |                                                                                                                                                                                                                                                                                                                                 |
|                                   |    -  **AZ**: Master nodes are deployed in different AZs for cluster DR.                                                                                                                                                                                                                                                        |
|                                   |    -  **Host**: Master nodes are deployed on different hosts in the same AZ for cluster DR.                                                                                                                                                                                                                                     |
|                                   |    -  **Custom**: Master nodes are deployed in the AZs you specified.                                                                                                                                                                                                                                                           |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Network Settings**

The network settings cover nodes, containers, and Services. For details about the cluster networking and container network models, see :ref:`Overview <cce_10_0010>`.

.. table:: **Table 1** Cluster network settings

   +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                         | Description                                                                                                                                                                                                                  |
   +===================================+==============================================================================================================================================================================================================================+
   | VPC                               | Select the VPC to which the cluster belongs. If no VPC is available, click **Create VPC** to create one. The value cannot be changed after the cluster is created.                                                           |
   +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Node Subnet                       | Select the subnet to which the master nodes belong. If no subnet is available, click **Create Subnet** to create one. The value cannot be changed after the cluster is created.                                              |
   +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Default Node Security Group       | Select the security group automatically generated by CCE or use the existing one as the default security group of the node.                                                                                                  |
   |                                   |                                                                                                                                                                                                                              |
   |                                   | .. important::                                                                                                                                                                                                               |
   |                                   |                                                                                                                                                                                                                              |
   |                                   |    NOTICE:                                                                                                                                                                                                                   |
   |                                   |    The default security group must allow traffic from certain ports to ensure normal communication. Otherwise, the node cannot be created. For details, see :ref:`Configuring Cluster Security Group Rules <cce_faq_00265>`. |
   +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | IPv6                              | If enabled, cluster resources, including nodes and workloads, can be accessed through IPv6 CIDR blocks.                                                                                                                      |
   |                                   |                                                                                                                                                                                                                              |
   |                                   | -  IPv4/IPv6 dual stack is not supported by clusters using the VPC networks.                                                                                                                                                 |
   +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. table:: **Table 2** Container network settings

   +--------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                                                                                        | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +==================================================================================================+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
   | Network Model                                                                                    | Select **VPC network** or **Tunnel network** for your CCE standard cluster.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                                                                                                  | Select **Cloud Native Network 2.0** for your CCE Turbo cluster.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                                                                                                  | For more information about their differences, see :ref:`Overview <cce_10_0281>`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
   +--------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | DataPlane V2 (supported by CCE Turbo clusters)                                                   | DataPlane V2 uses eBPF to enable features like Service ClusterIP, NetworkPolicy, and egress bandwidth. For details, see :ref:`DataPlane V2 Network Acceleration <cce_10_0945>`.                                                                                                                                                                                                                                                                                                                                                                               |
   |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                                                                                                  | This function is available for new clusters of v1.27 or later. After this function is enabled, CCE will automatically deploy the cilium-agent on every node in the cluster. Each cilium-agent will use 80 MiB of memory, and the memory usage will increase by 10 KiB whenever a new pod is added. After the cluster is created, you cannot disable this function. Additionally, the nodes can run only HCE OS 2.0. Therefore, enable this function only when you fully understand the constraints in :ref:`DataPlane V2 Network Acceleration <cce_10_0945>`. |
   |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                                                                                                  | .. note::                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                                                                                                  |    CCE DataPlane V2 is released with restrictions. To use this feature, submit a service ticket to CCE.                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
   +--------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Network Policies (supported by CCE standard clusters using a tunnel network)                     | Policy-based network control for clusters. For details, see :ref:`Configuring Network Policies to Restrict Pod Access <cce_10_0059>`.                                                                                                                                                                                                                                                                                                                                                                                                                         |
   |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                                                                                                  | After this function is enabled, if the CIDR blocks of a customer's service conflict with the on-premises CIDR blocks, the link to a newly added gateway may not be established.                                                                                                                                                                                                                                                                                                                                                                               |
   |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                                                                                                  | For example, when a cluster accesses an external address through a Direct Connect connection, the external switch does not support **ip-option**. If the network policy is enabled, the network access may fail.                                                                                                                                                                                                                                                                                                                                              |
   +--------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Container CIDR Block                                                                             | Specify the CIDR block for containers, which determines the maximum number of containers allowed in the cluster. This parameter is available only for CCE standard clusters. CCE standard clusters allow both manual and automatic CIDR block settings.                                                                                                                                                                                                                                                                                                       |
   |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                                                                                                  | -  **Manually set**: You can customize the container CIDR blocks as needed. For cross-VPC passthrough networking, **make sure the container CIDR block does not overlap with the VPC CIDR block to be accessed** to prevent conflicts. For details, see :ref:`Planning CIDR Blocks for a Cluster <cce_bestpractice_00004>`. The VPC network model allows you to configure multiple CIDR blocks, and container CIDR blocks can be added even after the cluster is created. For details, see :ref:`Adding a Container CIDR Block for a Cluster <cce_10_0680>`.  |
   |                                                                                                  | -  **Auto select**: CCE will randomly allocate a non-conflicting CIDR block from the ranges 172.16.0.0/16 to 172.31.0.0/16, or from 10.0.0.0/12, 10.16.0.0/12, 10.32.0.0/12, 10.48.0.0/12, 10.64.0.0/12, 10.80.0.0/12, 10.96.0.0/12, and 10.112.0.0/12. Since the allocated CIRD block cannot be modified after the cluster is created, you are advised to manually configure the CIDR blocks, especially in commercial scenarios.                                                                                                                            |
   +--------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Pod IP Addresses Reserved for Each Node (supported by CCE standard clusters using a VPC network) | Specify the number of container IP addresses that can be allocated to each node (**alpha.cce/fixPoolMask**) when creating a cluster. This parameter determines the maximum number of pods that can be created on each node and cannot be changed after the cluster is created.                                                                                                                                                                                                                                                                                |
   |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                                                                                                  | When a :ref:`container network <cce_10_0348__li13739132619599>` is used, each pod occupies one IP address. If a node's reserved container IP addresses are insufficient, pods cannot be created. For details, see :ref:`Number of Allocatable Container IP Addresses on a Node <cce_10_0348__section10770192193714>`.                                                                                                                                                                                                                                         |
   +--------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Pod Subnet                                                                                       | Select the subnet to which the pod belongs. If no subnet is available, click **Create Subnet** to create one. This parameter is available only for CCE Turbo clusters. The pod subnet determines the maximum number of containers in a cluster. You can add pod subnets after a cluster is created.                                                                                                                                                                                                                                                           |
   +--------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Default Security Group                                                                           | Select the security group automatically generated by CCE or use the existing one as the default security group of the containers.                                                                                                                                                                                                                                                                                                                                                                                                                             |
   |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                                                                                                  | .. important::                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   |                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                                                                                                  |    NOTICE:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   |                                                                                                  |    The default security group of containers must allow access from specified ports to ensure proper communication between containers in the cluster. For details about how to configure security group ports, see :ref:`How Do I Harden the Automatically Created Security Group Rules for CCE Cluster Nodes? <cce_faq_00265>`                                                                                                                                                                                                                                |
   +--------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. table:: **Table 3** Service network settings

   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                         | Description                                                                                                                                                                                                                                |
   +===================================+============================================================================================================================================================================================================================================+
   | Service CIDR Block                | Configure the Service CIDR blocks for containers in the same cluster to access each other. The value determines the maximum number of Services you can create. The value cannot be changed after the cluster is created.                   |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Request Forwarding                | Select **IPVS** or **iptables** for your cluster. For details, see :ref:`Comparing iptables and IPVS <cce_10_0349>`.                                                                                                                       |
   |                                   |                                                                                                                                                                                                                                            |
   |                                   | -  iptables is the traditional kube-proxy mode. This mode applies to the scenario where the number of Services is small or a large number of short connections are concurrently sent on the client. IPv6 clusters do not support iptables. |
   |                                   | -  IPVS allows higher throughput and faster forwarding. This mode is suitable for large cluster scales or when there are a large number of Services.                                                                                       |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | IPv6 Service CIDR Block           | Configure this parameter only when IPv6 dual stack is enabled for a CCE Turbo cluster. This configuration cannot be modified after the cluster is created.                                                                                 |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**(Optional) Advanced Settings**

+-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Parameter                         | Description                                                                                                                                                                                                                                                                                |
+===================================+============================================================================================================================================================================================================================================================================================+
| IAM Authentication                | CCE clusters support IAM authentication. You can call IAM authenticated APIs to access CCE clusters.                                                                                                                                                                                       |
+-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Certificate Authentication        | -  If **Automatically generated** is selected, the X.509-based authentication mode will be enabled by default. X.509 is a commonly used certificate format.                                                                                                                                |
|                                   |                                                                                                                                                                                                                                                                                            |
|                                   | -  If **Bring your own** is selected, the cluster can identify users based on the header in the request body for authentication.                                                                                                                                                           |
|                                   |                                                                                                                                                                                                                                                                                            |
|                                   |    Upload your CA root certificate, client certificate, and private key.                                                                                                                                                                                                                   |
|                                   |                                                                                                                                                                                                                                                                                            |
|                                   |    .. caution::                                                                                                                                                                                                                                                                            |
|                                   |                                                                                                                                                                                                                                                                                            |
|                                   |       CAUTION:                                                                                                                                                                                                                                                                             |
|                                   |                                                                                                                                                                                                                                                                                            |
|                                   |       -  Upload a file **smaller than 1 MB**. The CA certificate and client certificate can be in **.crt** or **.cer** format. The private key of the client certificate can only be uploaded **unencrypted**.                                                                             |
|                                   |       -  The validity period of the client certificate must be longer than five years.                                                                                                                                                                                                     |
|                                   |       -  The uploaded CA root certificate is used by the authentication proxy and for configuring the kube-apiserver aggregation layer. **If any of the uploaded certificates is invalid, the cluster cannot be created.**                                                                 |
|                                   |       -  Starting from v1.25, Kubernetes no longer supports certificate authentication generated using the SHA1WithRSA or ECDSAWithSHA1 algorithm. The certificate authentication generated using the SHA256 algorithm is supported instead.                                               |
+-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| CPU Management                    | If enabled, exclusive CPU cores can be allocated to workload pods. For details, see :ref:`CPU Policy <cce_10_0351>`.                                                                                                                                                                       |
+-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Disk Encryption for Master Nodes  | If enabled, dynamic data and static data on disks can be encrypted, providing powerful security protection for your data.                                                                                                                                                                  |
|                                   |                                                                                                                                                                                                                                                                                            |
|                                   | After encryption, the disk read/write performance deteriorates, and the configuration cannot be modified after the cluster is created.                                                                                                                                                     |
|                                   |                                                                                                                                                                                                                                                                                            |
|                                   | This function is available only for clusters of v1.25 or later.                                                                                                                                                                                                                            |
+-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Overload Control                  | After this function is enabled, concurrent requests will be dynamically controlled based on the resource demands received by master nodes to ensure the stable running of the master nodes and the cluster. For details, see :ref:`Enabling Overload Control for a Cluster <cce_10_0602>`. |
+-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Cluster Deletion Protection       | A measure taken to prevent accidental deletion of clusters through the console or APIs. After this function is enabled, you will not be able to delete or unsubscribe from clusters on CCE. You can modify the function status in the cluster Settings after creating it.                  |
+-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Time Zone                         | The cluster's scheduled tasks and nodes are subject to the chosen time zone.                                                                                                                                                                                                               |
+-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Resource Tag                      | You can add resource tags to classify resources. A maximum of 20 resource tags can be added.                                                                                                                                                                                               |
|                                   |                                                                                                                                                                                                                                                                                            |
|                                   | You can create **predefined tags** on the TMS console. These tags are available to all resources that support tags. You can use these tags to improve the tag creation and resource migration efficiency.                                                                                  |
+-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Description                       | You can enter description for the cluster. A maximum of 200 characters are allowed.                                                                                                                                                                                                        |
+-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Step 3: Select Add-ons
----------------------

Click **Next: Select Add-on**. On the page displayed, select the add-ons to be installed during cluster creation.

**Basic capabilities**

+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Add-on Name                         | Description                                                                                                                                                                                             |
+=====================================+=========================================================================================================================================================================================================+
| CCE Container Network (Yangtse CNI) | This is the basic cluster add-on. It provides network connectivity, Internet access, and security isolation for pods in your cluster.                                                                   |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| CCE Container Storage (Everest)     | This add-on (:ref:`CCE Container Storage (Everest) <cce_10_0066>`) is installed by default. It is a cloud native container storage system based on CSI and supports cloud storage services such as EVS. |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| CoreDNS                             | This add-on (:ref:`CoreDNS <cce_10_0129>`) is installed by default. It provides DNS resolution for your cluster and can be used to access the in-cloud DNS server.                                      |
+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Observability**

+---------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Add-on Name                     | Description                                                                                                                                                                                                                                                                                                                                                                                                       |
+=================================+===================================================================================================================================================================================================================================================================================================================================================================================================================+
| Cloud Native Cluster Monitoring | (Optional) If selected, this add-on (:ref:`Cloud Native Cluster Monitoring <cce_10_0406>`) will be automatically installed. Cloud Native Cluster Monitoring collects monitoring metrics for your cluster and reports the metrics to AOM. The agent mode does not support HPA based on custom Prometheus statements. If related functions are required, install this add-on manually after the cluster is created. |
+---------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Cloud Native Logging            | (Optional) If selected, this add-on (:ref:`Cloud Native Log Collection <cce_10_0416>`) will be automatically installed. Cloud Native Logging helps report logs to LTS. After the cluster is created, you are allowed to obtain and manage collection rules on the **Logging** page of the CCE cluster console.                                                                                                    |
+---------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| CCE Node Problem Detector       | (Optional) If selected, this add-on (:ref:`CCE Node Problem Detector <cce_10_0132>`) will be automatically installed to detect faults and isolate nodes for prompt cluster troubleshooting.                                                                                                                                                                                                                       |
+---------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Step 4: Configure Add-ons
-------------------------

Click **Next: Add-on Configuration**.

**Basic capabilities**

+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Add-on Name                         | Description                                                                                                                                                 |
+=====================================+=============================================================================================================================================================+
| CCE Container Network (Yangtse CNI) | This add-on is unconfigurable.                                                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| CCE Container Storage (Everest)     | This add-on is unconfigurable. After the cluster is created, choose **Add-ons** in the navigation pane of the cluster console and modify the configuration. |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+
| CoreDNS                             | This add-on is unconfigurable. After the cluster is created, choose **Add-ons** in the navigation pane of the cluster console and modify the configuration. |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Observability**

+-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Add-on Name                       | Description                                                                                                                                                                                                                                                                                                                                                 |
+===================================+=============================================================================================================================================================================================================================================================================================================================================================+
| Cloud Native Cluster Monitoring   | Select an AOM instance for Cloud Native Cluster Monitoring to report metrics. If no AOM instance is available, click **Creating Instance** to create one.                                                                                                                                                                                                   |
+-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Cloud Native Logging              | Select the logs to be collected. If enabled, a log group named **k8s-log-**\ *{clusterId}* will be automatically created, and a log stream will be created for each selected log type.                                                                                                                                                                      |
|                                   |                                                                                                                                                                                                                                                                                                                                                             |
|                                   | -  **Container log**: Standard output logs of containers are collected. The corresponding log stream is named in the format of **stdout-**\ *{Cluster ID}*.                                                                                                                                                                                                 |
|                                   | -  **Kubernetes Events**: Kubernetes logs are collected. The corresponding log stream is named in the format of **event-**\ *{Cluster ID}*.                                                                                                                                                                                                                 |
|                                   | -  **Kubernetes Audit Logs**: Audit logs of the master nodes are collected. The log streams are named in the format of **audit-**\ *{Cluster ID}*.                                                                                                                                                                                                          |
|                                   | -  **Control Plane Logs**: Logs from critical components such as kube-apiserver, kube-controller-manage, and kube-scheduler that run on the master nodes are collected. The log streams are named in the format of **kube-apiserver-**\ *{Cluster ID}*, **kube-controller-manage-**\ *{Cluster ID}*, and **kube-scheduler-**\ *{Cluster ID}*, respectively. |
|                                   |                                                                                                                                                                                                                                                                                                                                                             |
|                                   | If log collection is disabled, choose **Logging** in the navigation pane of the cluster console after the cluster is created and enable this function.                                                                                                                                                                                                      |
+-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| CCE Node Problem Detector         | This add-on is unconfigurable. After the cluster is created, choose **Add-ons** in the navigation pane of the cluster console and modify the configuration.                                                                                                                                                                                                 |
+-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Step 5: Confirm the Configuration
---------------------------------

After the parameters are specified, click **Next: Confirm configuration**. The cluster resource list is displayed. Confirm the information and click **Submit**.

It takes about 5 to 10 minutes to create a cluster. You can click **Back to Cluster List** to perform other operations on the cluster or click **Go to Cluster Events** to view the cluster details.

Related Operations
------------------

-  After creating a cluster, you can use the Kubernetes command line (CLI) tool kubectl to connect to the cluster. For details, see :ref:`Accessing a Cluster Using kubectl <cce_10_0107>`.
-  Add nodes to the cluster. For details, see :ref:`Creating a Node <cce_10_0363>`.
