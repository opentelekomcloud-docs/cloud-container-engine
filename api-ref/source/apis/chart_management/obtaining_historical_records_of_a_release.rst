:original_name: ShowReleaseHistory.html

.. _ShowReleaseHistory:

Obtaining Historical Records of a Release
=========================================

Function
--------

This API is used to obtain historical records of a release.

URI
---

GET /cce/cam/v3/clusters/{cluster_id}/namespace/{namespace}/releases/{name}/history

.. table:: **Table 1** Path Parameters

   +------------+-----------+--------+--------------------------------------------------------------------------------------------------------------------------+
   | Parameter  | Mandatory | Type   | Description                                                                                                              |
   +============+===========+========+==========================================================================================================================+
   | name       | Yes       | String | Release name                                                                                                             |
   +------------+-----------+--------+--------------------------------------------------------------------------------------------------------------------------+
   | namespace  | Yes       | String | Namespace of the chart                                                                                                   |
   +------------+-----------+--------+--------------------------------------------------------------------------------------------------------------------------+
   | cluster_id | Yes       | String | Cluster ID. For details about how to obtain the value, see :ref:`How to Obtain Parameters in the API URI <cce_02_0271>`. |
   +------------+-----------+--------+--------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 2** Request header parameters

   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                                                                                                                     |
   +=================+=================+=================+=================================================================================================================================================================================================================================================+
   | Content-Type    | Yes             | String          | Details:                                                                                                                                                                                                                                        |
   |                 |                 |                 |                                                                                                                                                                                                                                                 |
   |                 |                 |                 | Request body type or format.                                                                                                                                                                                                                    |
   |                 |                 |                 |                                                                                                                                                                                                                                                 |
   |                 |                 |                 | Constraints:                                                                                                                                                                                                                                    |
   |                 |                 |                 |                                                                                                                                                                                                                                                 |
   |                 |                 |                 | The GET method is not verified.                                                                                                                                                                                                                 |
   |                 |                 |                 |                                                                                                                                                                                                                                                 |
   |                 |                 |                 | Options:                                                                                                                                                                                                                                        |
   |                 |                 |                 |                                                                                                                                                                                                                                                 |
   |                 |                 |                 | -  application/json                                                                                                                                                                                                                             |
   |                 |                 |                 | -  application/json;charset=utf-8                                                                                                                                                                                                               |
   |                 |                 |                 | -  application/x-pem-file                                                                                                                                                                                                                       |
   |                 |                 |                 | -  multipart/form-data (It can be used when the **FormData** parameter exists.)                                                                                                                                                                 |
   |                 |                 |                 |                                                                                                                                                                                                                                                 |
   |                 |                 |                 | Default value:                                                                                                                                                                                                                                  |
   |                 |                 |                 |                                                                                                                                                                                                                                                 |
   |                 |                 |                 | N/A                                                                                                                                                                                                                                             |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | X-Auth-Token    | Yes             | String          | Requests for calling an API can be authenticated using either a token or AK/SK. If token-based authentication is used, this parameter is mandatory and must be set to a user token. For details, see :ref:`API Usage Guidelines <cce_02_0004>`. |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 3** Response body parameters

   +-----------+-------------------------------------------------------------------------------------------------------------+-------------+
   | Parameter | Type                                                                                                        | Description |
   +===========+=============================================================================================================+=============+
   | [items]   | Array of :ref:`ReleaseResp <showreleasehistory__en-us_topic_0000001849889874_response_releaseresp>` objects | ``-``       |
   +-----------+-------------------------------------------------------------------------------------------------------------+-------------+

.. _showreleasehistory__en-us_topic_0000001849889874_response_releaseresp:

.. table:: **Table 4** ReleaseResp

   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                   |
   +=======================+=======================+===============================================================================================================================================+
   | chart_name            | String                | Chart name                                                                                                                                    |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | chart_public          | Boolean               | Whether the chart is public                                                                                                                   |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | chart_version         | String                | Chart version                                                                                                                                 |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | cluster_id            | String                | Cluster ID                                                                                                                                    |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | cluster_name          | String                | Current name                                                                                                                                  |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | create_at             | String                | Created at                                                                                                                                    |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | description           | String                | Release description                                                                                                                           |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | name                  | String                | Release name                                                                                                                                  |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | namespace             | String                | Namespace to which a chart release belongs                                                                                                    |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | parameters            | String                | Release parameters                                                                                                                            |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | resources             | String                | Resources required by the release                                                                                                             |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | status                | String                | Release status                                                                                                                                |
   |                       |                       |                                                                                                                                               |
   |                       |                       | -  **DEPLOYED**: The release is normal.                                                                                                       |
   |                       |                       | -  **DELETED**: The release has been deleted.                                                                                                 |
   |                       |                       | -  **FAILED**: The release fails to be deployed.                                                                                              |
   |                       |                       | -  **DELETING**: The release is being deleted.                                                                                                |
   |                       |                       | -  **PENDING_INSTALL**: The release is waiting to be installed.                                                                               |
   |                       |                       | -  **PENDING_UPGRADE**: The release is waiting to be upgraded.                                                                                |
   |                       |                       | -  **PENDING_ROLLBACK**: The release is waiting for rollback.                                                                                 |
   |                       |                       | -  **UNKNOWN**: The release status is unknown, indicating that the release is abnormal. You can manually delete the release and reinstall it. |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | status_description    | String                | Release status description                                                                                                                    |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | update_at             | String                | Updated at                                                                                                                                    |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | values                | String                | Release value                                                                                                                                 |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | version               | Integer               | Release version                                                                                                                               |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+

Example Requests
----------------

None

Example Responses
-----------------

**Status code: 200**

OK

.. code-block::

   [ {
     "chart_name" : "magento-mysql",
     "chart_public" : false,
     "chart_version" : "1.0.0",
     "cluster_id" : "a870253f-5dc7-11ee-bf71-0255ac100b03",
     "cluster_name" : "sfs-turbo-test",
     "create_at" : "2023-11-14T20:30:57+08:00",
     "description" : "Initial install underway",
     "name" : "testwww",
     "namespace" : "monitoring",
     "parameters" : "",
     "resources" : "",
     "status" : "PENDING_INSTALL",
     "status_description" : "Initial install underway",
     "update_at" : "2023-11-14T20:30:57+08:00",
     "values" : "{\"basic\":{\"admin_password\":\"******\",\"admin_username\":\"username\",\"app_name\":\"magento\",\"mysql_database\":\"magento\",\"mysql_name\":\"mysql\",\"mysql_password\":\"******\",\"mysql_port\":3306,\"mysql_root_password\":\"******\",\"mysql_user\":\"magento\",\"storage_class\":\"csi-nas\",\"storage_mode\":\"ReadWriteMany\",\"storage_size\":\"10G\"},\"global\":{\"magento_EIP\":\"100.100.100.100\",\"magento_EPORT\":32080,\"namespace\":\"default\"},\"image\":{\"magento_image\":\"example.com/everest/magento:latest\",\"mysql_image\":\"example.com/everest/mysql:5.7.14\"}}",
     "version" : 1
   } ]

Status Codes
------------

=========== ===========
Status Code Description
=========== ===========
200         OK
=========== ===========

Error Codes
-----------

See :ref:`Error Codes <cce_02_0250>`.
