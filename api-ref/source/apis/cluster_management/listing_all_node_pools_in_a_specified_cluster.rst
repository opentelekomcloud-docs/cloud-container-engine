:original_name: cce_02_0269.html

.. _cce_02_0269:

Listing All Node Pools in a Specified Cluster
=============================================

Function
--------

This API is used to obtain information about all node pools in a specified cluster.

.. note::

   -  The URL for cluster management is in the format of **https://Endpoint/uri**. In the URL, **uri** indicates the resource path, that is, the path for API access.
   -  A node pool is a group of nodes within a cluster that all have the same configuration.

URI
---

GET /api/v3/projects/{project_id}/clusters/{cluster_id}/nodepools

:ref:`Table 1 <cce_02_0269__table2027961241820>` describes the parameters of this API.

.. _cce_02_0269__table2027961241820:

.. table:: **Table 1** Description

   +------------+-----------+-------------------------------------------------------------------------------------------------------------------------------+
   | Parameter  | Mandatory | Description                                                                                                                   |
   +============+===========+===============================================================================================================================+
   | project_id | Yes       | Project ID. For details about how to obtain the project ID, see :ref:`How to Obtain Parameters in the API URI <cce_02_0271>`. |
   +------------+-----------+-------------------------------------------------------------------------------------------------------------------------------+
   | cluster_id | Yes       | Cluster ID. For details about how to obtain the cluster ID, see :ref:`How to Obtain Parameters in the API URI <cce_02_0271>`. |
   +------------+-----------+-------------------------------------------------------------------------------------------------------------------------------+

Request
-------

**Request parameters**:

:ref:`Table 2 <cce_02_0269__table18227235515>` and :ref:`Table 3 <cce_02_0269__table13540732145618>` describe the request parameters.

.. _cce_02_0269__table18227235515:

.. table:: **Table 2** Parameters in the request header

   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                                                                                                                                                   |
   +=================+=================+=================+===============================================================================================================================================================================================================================================================================+
   | Content-Type    | Yes             | String          | Message body type (format).                                                                                                                                                                                                                                                   |
   |                 |                 |                 |                                                                                                                                                                                                                                                                               |
   |                 |                 |                 | Default: **application/json**                                                                                                                                                                                                                                                 |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | X-Auth-Token    | Yes             | String          | Requests for calling an API can be authenticated using either a token or AK/SK. If token-based authentication is used, this parameter is mandatory and must be set to a user token. For details on how to obtain a user token, see :ref:`API Usage Guidelines <cce_02_0344>`. |
   |                 |                 |                 |                                                                                                                                                                                                                                                                               |
   |                 |                 |                 | Maximum: **16384**                                                                                                                                                                                                                                                            |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _cce_02_0269__table13540732145618:

.. table:: **Table 3** Description of the query parameter

   +---------------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter           | Mandatory       | Type            | Description                                                                                                                                                                                                          |
   +=====================+=================+=================+======================================================================================================================================================================================================================+
   | errorStatus         | No              | String          | This field allows a cluster to be in the Error state if exceptions occur when the cluster is being deleted. If the value of **errorStatus** is null, the cluster stays in the **Deleting** state, but not **Error**. |
   |                     |                 |                 |                                                                                                                                                                                                                      |
   |                     |                 |                 | Minimum: **0**                                                                                                                                                                                                       |
   |                     |                 |                 |                                                                                                                                                                                                                      |
   |                     |                 |                 | Maximum: **10**                                                                                                                                                                                                      |
   +---------------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | showDefaultNodePool | No              | String          | Whether to display the default node pool. By default, the default node pool is not displayed. If this parameter is set to **true**, the default node pool is displayed.                                              |
   +---------------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Example request**:

.. code-block:: text

   GET /api/v3/projects/{project_id}/clusters/{cluster_id}/nodepools?showDefaultNodePool=true

Response
--------

**Response parameters**:

.. table:: **Table 4** Response body parameters

   +------------+-------------------------------------------------------------------+----------------------------------------+
   | Parameter  | Type                                                              | Description                            |
   +============+===================================================================+========================================+
   | kind       | String                                                            | API type. The value is fixed to List.  |
   +------------+-------------------------------------------------------------------+----------------------------------------+
   | apiVersion | String                                                            | API version. The value is fixed to v3. |
   +------------+-------------------------------------------------------------------+----------------------------------------+
   | items      | Array of :ref:`NodePool <cce_02_0269__response_nodepool>` objects | /                                      |
   +------------+-------------------------------------------------------------------+----------------------------------------+

.. _cce_02_0269__response_nodepool:

.. table:: **Table 5** NodePool

   +-----------------------+-------------------------------------------------------------------------+-----------------------------------------------+
   | Parameter             | Type                                                                    | Description                                   |
   +=======================+=========================================================================+===============================================+
   | kind                  | String                                                                  | API type. The value is fixed at **NodePool**. |
   |                       |                                                                         |                                               |
   |                       |                                                                         | Default: **NodePool**                         |
   +-----------------------+-------------------------------------------------------------------------+-----------------------------------------------+
   | apiVersion            | String                                                                  | API version. The value is fixed at **v3**.    |
   |                       |                                                                         |                                               |
   |                       |                                                                         | Default: **v3**                               |
   +-----------------------+-------------------------------------------------------------------------+-----------------------------------------------+
   | metadata              | :ref:`NodePoolMetadata <cce_02_0269__response_nodepoolmetadata>` object | Metadata information of the node pool.        |
   +-----------------------+-------------------------------------------------------------------------+-----------------------------------------------+
   | spec                  | :ref:`NodePoolSpec <cce_02_0269__response_nodepoolspec>` object         | Node pool specifications.                     |
   +-----------------------+-------------------------------------------------------------------------+-----------------------------------------------+
   | status                | :ref:`NodePoolStatus <cce_02_0269__response_nodepoolstatus>` object     | Node pool status.                             |
   +-----------------------+-------------------------------------------------------------------------+-----------------------------------------------+

.. _cce_02_0269__response_nodepoolmetadata:

.. table:: **Table 6** NodePoolMetadata

   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                     |
   +=======================+=======================+=================================================================================================================================================================+
   | name                  | String                | Node pool name.                                                                                                                                                 |
   |                       |                       |                                                                                                                                                                 |
   |                       |                       | .. note::                                                                                                                                                       |
   |                       |                       |                                                                                                                                                                 |
   |                       |                       |    Naming rules:                                                                                                                                                |
   |                       |                       |                                                                                                                                                                 |
   |                       |                       |    -  Enter 1 to 50 characters, starting with a lowercase letter and not ending with a hyphen (-). Only lowercase letters, digits, and hyphens (-) are allowed. |
   |                       |                       |    -  You cannot create node pools named DefaultPool.                                                                                                           |
   |                       |                       |                                                                                                                                                                 |
   |                       |                       | Minimum: **1**                                                                                                                                                  |
   |                       |                       |                                                                                                                                                                 |
   |                       |                       | Maximum: **50**                                                                                                                                                 |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | uid                   | String                | UID of the node pool. The value is automatically generated after the object is updated. A user-defined value will not take effect.                              |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_nodepoolspec:

.. table:: **Table 7** NodePoolSpec

   +-----------------------+---------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                                  | Description                                                                           |
   +=======================+=======================================================================================+=======================================================================================+
   | type                  | String                                                                                | Node pool type. If this parameter is left blank, the value **vm** is used by default. |
   |                       |                                                                                       |                                                                                       |
   |                       |                                                                                       | -  **vm**: ECS                                                                        |
   |                       |                                                                                       | -  **ElasticBMS**: BMS. This value is valid in CCE Turbo cluster.                     |
   +-----------------------+---------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
   | nodeTemplate          | :ref:`V3NodeSpec <cce_02_0269__response_v3nodespec>` object                           | Detailed parameters of the node pool template.                                        |
   +-----------------------+---------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
   | initialNodeCount      | Integer                                                                               | Initial number of nodes for the node pool.                                            |
   +-----------------------+---------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
   | autoscaling           | :ref:`NodePoolNodeAutoscaling <cce_02_0269__response_nodepoolnodeautoscaling>` object | Auto scaling parameters.                                                              |
   +-----------------------+---------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
   | nodeManagement        | :ref:`NodeManagement <cce_02_0269__response_nodemanagement>` object                   | Node management configuration.                                                        |
   +-----------------------+---------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+

.. _cce_02_0269__response_v3nodespec:

.. table:: **Table 8** V3NodeSpec

   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                | Description                                                                                                                                                                                                                                                                          |
   +=======================+=====================================================================+======================================================================================================================================================================================================================================================================================+
   | flavor                | String                                                              | Node specifications.                                                                                                                                                                                                                                                                 |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | Minimum: **1**                                                                                                                                                                                                                                                                       |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | Maximum: **50**                                                                                                                                                                                                                                                                      |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | az                    | String                                                              | \\t\\nName of the AZ where the node is located. This AZ exists at the underlying layer and is in the physical AZ group of the user.                                                                                                                                                  |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | Maximum: **200**                                                                                                                                                                                                                                                                     |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os                    | String                                                              | Node OS.                                                                                                                                                                                                                                                                             |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | login                 | :ref:`Login <cce_02_0269__response_login>` object                   | Node login mode.                                                                                                                                                                                                                                                                     |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | rootVolume            | :ref:`Volume <cce_02_0269__response_v3rootvolume>` object           | System disk information of the node.                                                                                                                                                                                                                                                 |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | dataVolumes           | Array of :ref:`Volume <cce_02_0269__response_v3rootvolume>` objects | Data disk parameters of the node. Currently, you can add the second data disk for your node on the CCE console.                                                                                                                                                                      |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | storage               | :ref:`Storage <cce_02_0269__response_storage>` object               | Disk initialization management parameter.                                                                                                                                                                                                                                            |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | This parameter is complex to configure. For details, see :ref:`Attaching Disks to a Node <node_storage_example>`.                                                                                                                                                                    |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | If this parameter retains its default, disks are managed based on the DockerLVMConfigOverride (discarded) parameter in extendParam. This parameter is supported by clusters of version 1.15.11 and later.                                                                            |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | .. note::                                                                                                                                                                                                                                                                            |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |    If a node specification involves local disks and EVS disks at the same time, do not retain the default value of this parameter to prevent unexpected disk partitions.                                                                                                             |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | publicIP              | :ref:`V3NodePublicIP <cce_02_0269__response_v3nodepublicip>` object | EIP of the node.                                                                                                                                                                                                                                                                     |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | nodeNicSpec           | :ref:`NodeNicSpec <cce_02_0269__response_nodenicspec>` object       | NIC information of the node.                                                                                                                                                                                                                                                         |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | count                 | Integer                                                             | Number of nodes to be created in a batch. The value must be a positive integer greater than or equal to 1 and less than or equal to the defined limit. This field can be set to **0** for a node pool.                                                                               |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | billingMode           | Integer                                                             | Billing mode of a node.                                                                                                                                                                                                                                                              |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | .. note::                                                                                                                                                                                                                                                                            |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |    This field is not supported for the current version.                                                                                                                                                                                                                              |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | taints                | Array of :ref:`Taint <cce_02_0269__response_taint>` objects         | You can add taints to created nodes to set affinity. Each taint contains the following three parameters:                                                                                                                                                                             |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | -  **Key**: The value must start with a letter or digit and can contain letters, digits, hyphens (-), underscores (*), and periods (.). The maximum length is 63 characters. In addition, the DNS subdomain can be used as the prefix.*                                              |
   |                       |                                                                     | -  **Value**\ *: The value must start with a letter or digit and can contain a maximum of 63 characters, including letters, digits, hyphens (-), underscores (*), and periods (.).                                                                                                   |
   |                       |                                                                     | -  **Effect**: Available options are **NoSchedule**, **PreferNoSchedule**, and **NoExecute**.                                                                                                                                                                                        |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | Example:                                                                                                                                                                                                                                                                             |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | .. code-block::                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |    "taints": [{                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |            "key": "status",                                                                                                                                                                                                                                                          |
   |                       |                                                                     |            "value": "unavailable",                                                                                                                                                                                                                                                   |
   |                       |                                                                     |            "effect": "NoSchedule"                                                                                                                                                                                                                                                    |
   |                       |                                                                     |     }, {                                                                                                                                                                                                                                                                             |
   |                       |                                                                     |            "key": "looks",                                                                                                                                                                                                                                                           |
   |                       |                                                                     |            "value": "bad",                                                                                                                                                                                                                                                           |
   |                       |                                                                     |            "effect": "NoSchedule"                                                                                                                                                                                                                                                    |
   |                       |                                                                     |     }]                                                                                                                                                                                                                                                                               |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | k8sTags               | Map<String,String>                                                  | The format is a key-value pair. The number of key-value pairs cannot exceed 20.                                                                                                                                                                                                      |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | -  **Key**: Enter 1 to 63 characters, starting with a letter or digit. Only letters, digits, hyphens (-), underscores (*), and periods (.) are allowed. A DNS subdomain can be prefixed to a key and contain a maximum of 253 characters. Example DNS subdomain: example.com/my-key* |
   |                       |                                                                     | -  **Value**\ *: The value can be left blank or contain 1 to 63 characters that start with a letter or digit. Only letters, digits, hyphens (-), underscores (*), and periods (.) are allowed in the character string.                                                               |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | Example:                                                                                                                                                                                                                                                                             |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | .. code-block::                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |    "k8sTags": {                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |            "key": "value"                                                                                                                                                                                                                                                            |
   |                       |                                                                     |     }                                                                                                                                                                                                                                                                                |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ecsGroupId            | String                                                              | Cloud server group ID. If this field is specified, the node is created in the specified cloud server group.                                                                                                                                                                          |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | .. note::                                                                                                                                                                                                                                                                            |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |    This field is not supported when you use CCE Turbo cluster.                                                                                                                                                                                                                       |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | dedicatedHostId       | String                                                              | ID of the DeH to which the node is scheduled.                                                                                                                                                                                                                                        |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | This field is not supported when you add a node during node pool creation.                                                                                                                                                                                                           |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | offloadNode           | Boolean                                                             | Whether the node belongs to a CCE Turbo cluster.                                                                                                                                                                                                                                     |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | .. note::                                                                                                                                                                                                                                                                            |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |    This field is not supported when you add a node during node pool creation.                                                                                                                                                                                                        |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | userTags              | Array of :ref:`UserTag <cce_02_0269__response_usertag>` objects     | Cloud server labels. The key of a label must be unique. The maximum number of user-defined labels supported by CCE depends on the region. In the region that supports the least number of labels, you can still create up to 5 labels for a cloud server.                            |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | extendParam           | Map<String,Object>                                                  | Extended parameter for creating a node. The options are as follows:                                                                                                                                                                                                                  |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | -  **ecs:performancetype**: ECS flavor. This field does not exist for a BMS node.                                                                                                                                                                                                    |
   |                       |                                                                     | -  **productID**: product ID.                                                                                                                                                                                                                                                        |
   |                       |                                                                     | -  **maxPods**: maximum number of pods that can be created on a node, including the default system pods. Value range: 16 to 256 This limit prevents the node from being overloaded fpr managing too many pods.                                                                       |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | -  **DockerLVMConfigOverride**: Docker data disk configuration item. (This parameter has been discarded. Use the storage field instead.) The following is an example default configuration:                                                                                          |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |    .. code-block::                                                                                                                                                                                                                                                                   |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |       "DockerLVMConfigOverride":"dockerThinpool=vgpaas/90%VG;kubernetesLV=vgpaas/10%VG;diskType=evs;lvType=linear"                                                                                                                                                                   |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |    The configuration contains the following fields:                                                                                                                                                                                                                                  |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |    -  **userLV**: size of the user space, for example, **vgpaas/20%VG**.                                                                                                                                                                                                             |
   |                       |                                                                     |    -  **userPath**: mount path of the user space, for example, **/home/wqt-test**.                                                                                                                                                                                                   |
   |                       |                                                                     |    -  **diskType**: disk type. Currently, only **evs**, **hdd**, and **ssd** are supported.                                                                                                                                                                                          |
   |                       |                                                                     |    -  **lvType**: type of a logic volume. Currently, the value can be **linear** or **striped**.                                                                                                                                                                                     |
   |                       |                                                                     |    -  **dockerThinpool**: Docker space size, for example, **vgpaas/60%VG**.                                                                                                                                                                                                          |
   |                       |                                                                     |    -  **kubernetesLV**: kubelet space size, for example, **vgpaas/20%VG**.                                                                                                                                                                                                           |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | -  **dockerBaseSize**: available disk space of a single Docker container on a node in Device Mapper mode. This field is not supported in OverlayFS mode (nodes that use CentOS 7.6 or Ubuntu 18.04 in CCE Turbo clusters and nodes that use Ubuntu 18.04 in CCE clusters).           |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | -  **init-node-password**: initial node password                                                                                                                                                                                                                                     |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | -  **offloadNode**: whether the node is a CCE Turbo cluster node. This parameter is not supported when you add a node to a node pool.                                                                                                                                                |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | -  **publicKey**: node public key. Used when creating a key pair.                                                                                                                                                                                                                    |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | -  **alpha.cce/preInstall**: pre-installation script.                                                                                                                                                                                                                                |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | .. note::                                                                                                                                                                                                                                                                            |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |    The input value must be Base64-encoded. (Command: **echo -n Content to be encoded \| base64**)                                                                                                                                                                                    |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | -  **alpha.cce/postInstall**: post-installation script                                                                                                                                                                                                                               |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | .. note::                                                                                                                                                                                                                                                                            |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     |    The input value must be Base64-encoded. (Command: **echo -n Content to be encoded \| base64**)                                                                                                                                                                                    |
   |                       |                                                                     |                                                                                                                                                                                                                                                                                      |
   |                       |                                                                     | -  **alpha.cce/NodeImageID**: This field is required when a custom image is used to create a BMS node.                                                                                                                                                                               |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | runtime               | :ref:`Runtime <cce_02_0269__table163721555105015>` object           | Container runtime. The default value is **docker**.                                                                                                                                                                                                                                  |
   +-----------------------+---------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_login:

.. table:: **Table 9** Login

   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                  |
   +=======================+=======================+==============================================================================================+
   | sshKey                | String                | Name of the key pair used for login. Either the key pair or password must be used for login. |
   |                       |                       |                                                                                              |
   |                       |                       | For details on how to create a key pair, see :ref:`Creating a Key Pair <cce_02_0101>`.       |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------+
   | userPassword          | String                | Password used for node login.                                                                |
   |                       |                       |                                                                                              |
   |                       |                       | .. note::                                                                                    |
   |                       |                       |                                                                                              |
   |                       |                       |    This field is not supported for the current version.                                      |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_v3rootvolume:

.. table:: **Table 10** Volume

   +-----------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                        | Description                                                                                                                                                                                    |
   +=======================+=============================================================================+================================================================================================================================================================================================+
   | size                  | Integer                                                                     | Disk size in the unit of GB.                                                                                                                                                                   |
   |                       |                                                                             |                                                                                                                                                                                                |
   |                       |                                                                             | -  System disk: 40 to 1024                                                                                                                                                                     |
   |                       |                                                                             | -  Data disk: 100 to 32768                                                                                                                                                                     |
   +-----------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | volumetype            | String                                                                      | Disk type. For details about possible values, see the description of the **root_volume** parameter in the API used to create an ECS in the ECS API reference.                                  |
   |                       |                                                                             |                                                                                                                                                                                                |
   |                       |                                                                             | -  **SATA**: common I/O disk                                                                                                                                                                   |
   |                       |                                                                             | -  **SAS**: high I/O disk                                                                                                                                                                      |
   |                       |                                                                             | -  **SSD**: ultra-high I/O disk                                                                                                                                                                |
   +-----------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | extendParam           | Map<String,Object>                                                          | Disk extension parameter. For details, see the description of the **extendparam** parameter in `Creating an ECS <https://docs.otc.t-systems.com/en-us/api/ecs/en-us_topic_0020212668.html>`__. |
   +-----------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | hw:passthrough        | Boolean                                                                     | -  Pay attention to this field if your ECS is SDI-compliant. If the value of this field is **true**, the created disk is of the SCSI type.                                                     |
   |                       |                                                                             | -  If the node pool type is **ElasticBMS**, this field must be set to **true**.                                                                                                                |
   +-----------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | metadata              | :ref:`dataVolumeMetadata <cce_02_0269__response_datavolumemetadata>` object | Data disk encryption information. This parameter is mandatory only when the data disk of the node to be created needs to be encrypted.                                                         |
   |                       |                                                                             |                                                                                                                                                                                                |
   |                       |                                                                             | If data disks are created using a data disk image, this parameter cannot be used.                                                                                                              |
   +-----------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_datavolumemetadata:

.. table:: **Table 11** DataVolumeMetadata

   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                    |
   +=======================+=======================+================================================================================================================================================================+
   | \__system__encrypted  | String                | Whether the EVS disk is encrypted. The value **0** indicates that the EVS disk is not encrypted, and the value **1** indicates that the EVS disk is encrypted. |
   |                       |                       |                                                                                                                                                                |
   |                       |                       | If this field does not exist, the disk will not be encrypted by default.                                                                                       |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | \__system__cmkid      | String                | CMK ID, which indicates encryption in **metadata**. This field is used with **\__system__encrypted**.                                                          |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_v3nodepublicip:

.. table:: **Table 12** V3NodePublicIP

   +-----------------------+-------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                              | Description                                                                                            |
   +=======================+===================================================================+========================================================================================================+
   | ids                   | Array of strings                                                  | IDs of existing EIPs. The quantity cannot be greater than the number of nodes to be created.           |
   |                       |                                                                   |                                                                                                        |
   |                       |                                                                   | .. note::                                                                                              |
   |                       |                                                                   |                                                                                                        |
   |                       |                                                                   |    If the **ids** parameter has been set, you do not need to set the **count** and **eip** parameters. |
   +-----------------------+-------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------+
   | count                 | Integer                                                           | Number of EIPs to be dynamically created.                                                              |
   |                       |                                                                   |                                                                                                        |
   |                       |                                                                   | .. note::                                                                                              |
   |                       |                                                                   |                                                                                                        |
   |                       |                                                                   |    The **count** and **eip** parameters must be set together.                                          |
   +-----------------------+-------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------+
   | eip                   | :ref:`V3NodeEIPSpec <cce_02_0269__response_v3nodeeipspec>` object | EIP configuration.                                                                                     |
   +-----------------------+-------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_v3nodeeipspec:

.. table:: **Table 13** V3NodeEIPSpec

   +-----------+-----------------------------------------------------------------------+----------------------------------+
   | Parameter | Type                                                                  | Description                      |
   +===========+=======================================================================+==================================+
   | iptype    | String                                                                | EIP type.                        |
   +-----------+-----------------------------------------------------------------------+----------------------------------+
   | bandwidth | :ref:`V3NodeBandwidth <cce_02_0269__response_v3nodebandwidth>` object | Bandwidth parameters of the EIP. |
   +-----------+-----------------------------------------------------------------------+----------------------------------+

.. _cce_02_0269__response_v3nodebandwidth:

.. table:: **Table 14** V3NodeBandwidth

   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                                                  |
   +=======================+=======================+==============================================================================================================================================================================================+
   | chargemode            | String                | Bandwidth billing modes:                                                                                                                                                                     |
   |                       |                       |                                                                                                                                                                                              |
   |                       |                       | -  If this field is not specified, the billing is based on bandwidth.                                                                                                                        |
   |                       |                       | -  If the field is null, the billing is based on bandwidth.                                                                                                                                  |
   |                       |                       | -  If the field value is **traffic**, the billing is based on traffic.                                                                                                                       |
   |                       |                       | -  If the value is out of the preceding options, the cloud server will fail to be created.                                                                                                   |
   |                       |                       |                                                                                                                                                                                              |
   |                       |                       | .. note::                                                                                                                                                                                    |
   |                       |                       |                                                                                                                                                                                              |
   |                       |                       |    -  Billed by bandwidth: The billing will be based on the data transfer rate (in Mbps) of public networks. If your bandwidth usage is higher than 10%, this billing mode is recommended.   |
   |                       |                       |    -  Billed by traffic: The billing will be based on the total traffic (in GB) transferred on public networks. If your bandwidth usage is lower than 10%, this billing mode is recommended. |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | size                  | String                | Bandwidth size.                                                                                                                                                                              |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | sharetype             | String                | Bandwidth sharing type.                                                                                                                                                                      |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_nodenicspec:

.. table:: **Table 15** NodeNicSpec

   +------------+-----------------------------------------------------------------+---------------------------------+
   | Parameter  | Type                                                            | Description                     |
   +============+=================================================================+=================================+
   | primaryNic | :ref:`primaryNic <cce_02_0269__response_nicspec>` object        | Description of the primary NIC. |
   +------------+-----------------------------------------------------------------+---------------------------------+
   | extNics    | Array of :ref:`extNics <cce_02_0269__response_nicspec>` objects | Extension NIC.                  |
   +------------+-----------------------------------------------------------------+---------------------------------+

.. _cce_02_0269__response_nicspec:

.. table:: **Table 16** Data structure of the primaryNic/extNics field

   +-----------+------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter | Type             | Description                                                                                                                                                                                                       |
   +===========+==================+===================================================================================================================================================================================================================+
   | subnetId  | String           | Network ID of the subnet to which the NIC belongs.                                                                                                                                                                |
   +-----------+------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | fixedIps  | Array of strings | The IP address of the primary NIC is specified by **fixedIps**. The number of IP addresses cannot be greater than the number of created nodes. **fixedIps** and **ipBlock** cannot be specified at the same time. |
   +-----------+------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ipBlock   | String           | CIDR format of the IP address segment. The IP address of the created node falls in this IP address segment. **fixedIps** and **ipBlock** cannot be specified at the same time.                                    |
   +-----------+------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_taint:

.. table:: **Table 17** Taint

   +-----------------------+-----------------------+-------------------------+
   | Parameter             | Type                  | Description             |
   +=======================+=======================+=========================+
   | key                   | String                | Key.                    |
   +-----------------------+-----------------------+-------------------------+
   | value                 | String                | Value.                  |
   |                       |                       |                         |
   |                       |                       | Maximum: **63**         |
   +-----------------------+-----------------------+-------------------------+
   | effect                | String                | Effect.                 |
   |                       |                       |                         |
   |                       |                       | Enumeration values:     |
   |                       |                       |                         |
   |                       |                       | -  **NoSchedule**       |
   |                       |                       | -  **PreferNoSchedule** |
   |                       |                       | -  **NoExecute**        |
   +-----------------------+-----------------------+-------------------------+

.. _cce_02_0269__response_usertag:

.. table:: **Table 18** UserTag

   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                   |
   +=======================+=======================+===============================================================================================+
   | key                   | String                | Key of the cloud server label. The value cannot start with **CCE-** or **\__type_baremetal**. |
   |                       |                       |                                                                                               |
   |                       |                       | Minimum: **1**                                                                                |
   |                       |                       |                                                                                               |
   |                       |                       | Maximum: **36**                                                                               |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------+
   | value                 | String                | Value of the cloud server label.                                                              |
   |                       |                       |                                                                                               |
   |                       |                       | Minimum: **0**                                                                                |
   |                       |                       |                                                                                               |
   |                       |                       | Maximum: **43**                                                                               |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_nodepoolnodeautoscaling:

.. table:: **Table 19** NodePoolNodeAutoscaling

   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                                                                        |
   +=======================+=======================+====================================================================================================================================================================================================================+
   | enable                | Boolean               | Whether to enable auto scaling.                                                                                                                                                                                    |
   |                       |                       |                                                                                                                                                                                                                    |
   |                       |                       | Default: **false**                                                                                                                                                                                                 |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | minNodeCount          | Integer               | Minimum number of nodes allowed if auto scaling is enabled. The value cannot be greater than the maximum number of nodes allowed by the cluster specifications.                                                    |
   |                       |                       |                                                                                                                                                                                                                    |
   |                       |                       | Minimum: **0**                                                                                                                                                                                                     |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | maxNodeCount          | Integer               | Maximum number of nodes allowed if auto scaling is enabled. This value must be greater than or equal to the value of **minNodeCount** and cannot exceed the maximum number of nodes in the cluster specifications. |
   |                       |                       |                                                                                                                                                                                                                    |
   |                       |                       | Minimum: **0**                                                                                                                                                                                                     |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | scaleDownCooldownTime | Integer               | Interval between two scaling operations, in minutes. During this period, nodes added after a scale-up will not be deleted.                                                                                         |
   |                       |                       |                                                                                                                                                                                                                    |
   |                       |                       | Minimum: **0**                                                                                                                                                                                                     |
   |                       |                       |                                                                                                                                                                                                                    |
   |                       |                       | Maximum: **2147483647**                                                                                                                                                                                            |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | priority              | Integer               | Weight of a node pool. A node pool with a higher weight has a higher priority during scaling.                                                                                                                      |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_nodemanagement:

.. table:: **Table 20** NodeManagement

   +----------------------+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter            | Type   | Description                                                                                                                                                                                                                                                                                                      |
   +======================+========+==================================================================================================================================================================================================================================================================================================================+
   | serverGroupReference | String | Cloud server group ID. If this field is specified, all nodes in the node pool will be created in this group. The group ID can be specified only when you create the node pool and cannot be modified. When you specify a cloud server group, the number of nodes in the node pool cannot exceed the group quota. |
   +----------------------+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_nodepoolstatus:

.. table:: **Table 21** NodePoolStatus

   +-----------------------+-----------------------+----------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                |
   +=======================+=======================+============================================================================+
   | currentNode           | Integer               | Number of nodes in the node pool.                                          |
   +-----------------------+-----------------------+----------------------------------------------------------------------------+
   | phase                 | String                | Node pool status. If this field is left blank, the node pool is available. |
   |                       |                       |                                                                            |
   |                       |                       | -  **Synchronizing**: Scale-in is being performed.                         |
   |                       |                       | -  **Synchronized**: The node pool fails to be updated.                    |
   |                       |                       | -  **SoldOut**: Node resources are sold out.                               |
   |                       |                       | -  **Deleting**: The node pool is being deleted.                           |
   |                       |                       | -  **Error**: An error occurs.                                             |
   |                       |                       |                                                                            |
   |                       |                       | Enumeration values:                                                        |
   |                       |                       |                                                                            |
   |                       |                       | -  **Synchronizing**                                                       |
   |                       |                       | -  **Synchronized**                                                        |
   |                       |                       | -  **SoldOut**                                                             |
   |                       |                       | -  **Deleting**                                                            |
   |                       |                       | -  **Error**                                                               |
   +-----------------------+-----------------------+----------------------------------------------------------------------------+
   | jobId                 | String                | ID of the job to delete the node pool.                                     |
   +-----------------------+-----------------------+----------------------------------------------------------------------------+

.. _cce_02_0269__table163721555105015:

.. table:: **Table 22** Runtime

   +-----------------+-----------------+-----------------+-----------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                         |
   +=================+=================+=================+=====================================================+
   | name            | No              | String          | Container runtime. The default value is **docker**. |
   |                 |                 |                 |                                                     |
   |                 |                 |                 | Enumeration values:                                 |
   |                 |                 |                 |                                                     |
   |                 |                 |                 | -  docker                                           |
   |                 |                 |                 | -  containerd                                       |
   +-----------------+-----------------+-----------------+-----------------------------------------------------+

.. _cce_02_0269__response_storage:

.. table:: **Table 23** Storage

   +------------------+-----------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+
   | Parameter        | Type                                                                              | Description                                                                                 |
   +==================+===================================================================================+=============================================================================================+
   | storageSelectors | Array of :ref:`StorageSelectors <cce_02_0269__response_storageselectors>` objects | Disk selection. Matched disks are managed according to **matchLabels** and **storageType**. |
   +------------------+-----------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+
   | storageGroups    | Array of :ref:`StorageGroups <cce_02_0269__response_storagegroups>` objects       | A storage group consists of multiple storage devices. It is used to divide storage space.   |
   +------------------+-----------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_storageselectors:

.. table:: **Table 24** StorageSelectors

   +-------------+---------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter   | Type                                                          | Description                                                                                                                                                                                                                                                         |
   +=============+===============================================================+=====================================================================================================================================================================================================================================================================+
   | name        | String                                                        | Selector name, used as the index of **selectorNames** in **storageGroup**. Therefore, the name of each selector must be unique.                                                                                                                                     |
   +-------------+---------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | storageType | String                                                        | Specifies the storage type. Currently, only **evs** (EVS volumes) and **local** (local volumes) are supported. The local storage does not support disk selection. All local disks will form a VG. Therefore, only one storageSelector of the local type is allowed. |
   +-------------+---------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | matchLabels | :ref:`matchLabels <cce_02_0269__response_matchlabels>` object | Matching field of an EVS volume. The **size**, **volumeType**, **metadataEncrypted**, **metadataCmkid** and **count** fields are supported.                                                                                                                         |
   +-------------+---------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_matchlabels:

.. table:: **Table 25** matchLabels

   +-------------------+--------+-----------------------------------------------------------------------------------------------------------------------------+
   | Parameter         | Type   | Description                                                                                                                 |
   +===================+========+=============================================================================================================================+
   | size              | String | Matched disk size. If this parameter is left unspecified, the disk size is not limited. Example: 100                        |
   +-------------------+--------+-----------------------------------------------------------------------------------------------------------------------------+
   | volumeType        | String | EVS disk type. Currently, SSD, GPSSD and SAS are supported.                                                                 |
   +-------------------+--------+-----------------------------------------------------------------------------------------------------------------------------+
   | metadataEncrypted | String | Disk encryption identifier. **0** indicates that the disk is not encrypted, and **1** indicates that the disk is encrypted. |
   +-------------------+--------+-----------------------------------------------------------------------------------------------------------------------------+
   | metadataCmkid     | String | Customer master key ID of an encrypted disk. The value is a 36-byte string.                                                 |
   +-------------------+--------+-----------------------------------------------------------------------------------------------------------------------------+
   | count             | String | Number of disks to be selected. If this parameter is left blank, all disks of this type are selected.                       |
   +-------------------+--------+-----------------------------------------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_storagegroups:

.. table:: **Table 26** StorageGroups

   +---------------+---------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter     | Type                                                                      | Description                                                                                                                                                       |
   +===============+===========================================================================+===================================================================================================================================================================+
   | name          | String                                                                    | Name of a virtual storage group, which must be unique.                                                                                                            |
   +---------------+---------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | cceManaged    | Boolean                                                                   | Storage space for Kubernetes and runtime components. Only one group can be set to **true**. If this parameter is left blank, the default value **false** is used. |
   +---------------+---------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | selectorNames | Array of strings                                                          | This parameter corresponds to **name** in **storageSelectors**. A group can match multiple selectors, but a selector can match only one group.                    |
   +---------------+---------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | virtualSpaces | Array of :ref:`VirtualSpace <cce_02_0269__response_virtualspace>` objects | Detailed management of space configuration in a group.                                                                                                            |
   +---------------+---------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_virtualspace:

.. table:: **Table 27** VirtualSpace

   +-----------------------+-------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                              | Description                                                                                                                 |
   +=======================+===================================================================+=============================================================================================================================+
   | name                  | String                                                            | Name of a virtualSpace.                                                                                                     |
   |                       |                                                                   |                                                                                                                             |
   |                       |                                                                   | -  **Kubernetes**: Kubernetes space configuration. **lvmConfig** needs to be configured.                                    |
   |                       |                                                                   | -  **runtime**: runtime space configuration. **runtimeConfig** needs to be configured.                                      |
   |                       |                                                                   | -  **user**: user space configuration. **lvmConfig** needs to be configured.                                                |
   +-----------------------+-------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+
   | size                  | String                                                            | Size of a virtualSpace. The value must be an integer in percentage. Example: 90%.                                           |
   |                       |                                                                   |                                                                                                                             |
   |                       |                                                                   | .. note::                                                                                                                   |
   |                       |                                                                   |                                                                                                                             |
   |                       |                                                                   |    The sum of the percentages of all virtualSpaces in a group cannot exceed 100%.                                           |
   +-----------------------+-------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+
   | lvmConfig             | :ref:`LVMConfig <cce_02_0269__response_lvmconfig>` object         | LVM configurations, applicable to **kubernetes** and **user** spaces. Note that one virtual space supports only one config. |
   +-----------------------+-------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+
   | runtimeConfig         | :ref:`RuntimeConfig <cce_02_0269__response_runtimeconfig>` object | runtime configurations, applicable to the **runtime** space. Note that one virtual space supports only one config.          |
   +-----------------------+-------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_lvmconfig:

.. table:: **Table 28** LVMConfig

   +-----------+--------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter | Type   | Description                                                                                                                                                                                            |
   +===========+========+========================================================================================================================================================================================================+
   | lvType    | String | LVM write mode. **linear** indicates the linear mode. **striped** indicates the striped mode, in which multiple disks are used to form a strip to improve disk performance.                            |
   +-----------+--------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | path      | String | Path to which the disk is attached. This parameter takes effect only in user configuration. The value is an absolute path. Digits, letters, periods (.), hyphens (-), and underscores (_) are allowed. |
   +-----------+--------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _cce_02_0269__response_runtimeconfig:

.. table:: **Table 29** RuntimeConfig

   +-----------+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter | Type   | Description                                                                                                                                                                 |
   +===========+========+=============================================================================================================================================================================+
   | lvType    | String | LVM write mode. **linear** indicates the linear mode. **striped** indicates the striped mode, in which multiple disks are used to form a strip to improve disk performance. |
   +-----------+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Response example**:

.. code-block::

   {
       "kind": "List",
       "apiVersion": "v3",
       "items": [
           {
               "kind": "NodePool",
               "apiVersion": "v3",
               "metadata": {
                   "name": "nodepool-name-change",
                   "uid": "feec6013-cd7e-11ea-8c7a-0255ac100be7"
               },
               "spec": {
                   "initialNodeCount": 0,
                   "type": "vm",
                   "nodeTemplate": {
                       "flavor": "s6.large.2",
                       "az": "eu-de-02",
                       "os": "EulerOS 2.5",
                       "login": {
                           "sshKey": "KeyPair-nodepool",
                           "userPassword": {}
                       },
                       "rootVolume": {
                           "volumetype": "SAS",
                           "size": 40
                       },
                       "dataVolumes": [
                           {
                               "volumetype": "SAS",
                               "size": 100,
                               "extendParam": {
                                   "useType": "docker"
                               }
                           }
                       ],
                       "storage": {
                           "storageSelectors": [
                               {
                                   "name": "cceUse",
                                   "storageType": "evs",
                                   "matchLabels": {
                                       "size": "100",
                                       "volumeType": "SAS",
                                       "count": "1"
                                   }
                               }
                           ],
                           "storageGroups": [
                               {
                                   "name": "vgpaas",
                                   "selectorNames": [
                                       "cceUse"
                                   ],
                                   "cceManaged": true,
                                   "virtualSpaces": [
                                       {
                                           "name": "runtime",
                                           "size": "90%"
                                       },
                                       {
                                           "name": "kubernetes",
                                           "size": "10%"
                                       }
                                   ]
                               }
                           ]
                       },
                       "runtime": {
                           "name": "docker"
                       },
                       "publicIP": {
                           "eip": {
                               "bandwidth": {}
                           }
                       },
                       "nodeNicSpec": {
                           "primaryNic": {
                               "subnetId": "31be174a-0c7f-4b71-bb0d-d325fecb90ef"
                           }
                       },
                       "billingMode": 0,
                       "taints": [
                           {
                               "key": "change-taints",
                               "value": "value1",
                               "effect": "NoExecute"
                           }
                       ],
                       "k8sTags": {
                           "cce.cloud.com/cce-nodepool": "nodepool-name-change",
                           "change-tag": "value2"
                       },
                       "userTags": [
                           {
                               "key": "change-resource-tag",
                               "value": "value3"
                           }
                       ],
                       "extendParam": {
                           "DockerLVMConfigOverride": "dockerThinpool=vgpaas/90%VG;kubernetesLV=vgpaas/10%VG;diskType=evs;lvType=linear",
                           "alpha.cce/NodeImageID": "85bd7ec5-bca4-4f5f-947b-6c1bf02599d3",
                           "alpha.cce/postInstall": "bHMgLWwK",
                           "alpha.cce/preInstall": "bHMgLWw=",
                           "maxPods": 110
                       }
                   },
                   "autoscaling": {
                       "enable": true,
                       "minNodeCount": 2,
                       "maxNodeCount": 4,
                       "scaleDownCooldownTime": 10,
                       "priority": 2
                   },
                   "nodeManagement": {
                       "serverGroupReference": "2129f95a-f233-4cd8-a1b2-9c0acdf918d3"
                   }
               },
               "status": {
                   "currentNode": 0,
                   "phase": ""
               }
           }
       ]
   }

Status Code
-----------

:ref:`Table 30 <cce_02_0269__en-us_topic_0079614900_table46761928>` describes the status code of this API.

.. _cce_02_0269__en-us_topic_0079614900_table46761928:

.. table:: **Table 30** Status code

   +-------------+---------------------------------------------------------------------------+
   | Status Code | Description                                                               |
   +=============+===========================================================================+
   | 200         | Information about all node pools in the cluster is successfully obtained. |
   +-------------+---------------------------------------------------------------------------+

For details about error status codes, see :ref:`Status Code <cce_02_0084>`.

Error Codes
-----------

See :ref:`Error Codes <cce_02_0250>`.
